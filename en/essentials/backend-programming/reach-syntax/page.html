<p>This page demonstrates Reach syntax.</p>
<h1 id="reach-and-javascript">Reach and JavaScript</h1>
<p>Writing Reach code feels familiar because Reach syntax is a subset of modern JavaScript syntax. The following statement, for example, is valid in Reach and Javascript programs (assuming <code>getContract</code> is defined):</p>
<pre class="snippet unnumbered"><ol class="snippet"><li value="1"><span style="color: #CF222E">const</span><span style="color: #24292F"> </span><span style="color: #0550AE">info</span><span style="color: #24292F"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> </span><span style="color: #8250DF">getContract</span><span style="color: #24292F">();</span></li></ol></pre>
<p>Most of what you know about JavaScript statements, expressions, keywords, comments, declarations, operators, flow control, iterations, arrays, objects, functions, maps, sets, and error handling applies to Reach.</p>
<h1 id="statements">Statements</h1>
<p><em>Statements</em> are instructions composed of values, operators, expressions, keywords, and/or comments. Statements often end with semicolons. Here are two examples:</p>
<pre class="snippet numbered"><ol class="snippet"><li value="1"><span style="color: #CF222E">const</span><span style="color: #24292F"> </span><span style="color: #0550AE">wager</span><span style="color: #24292F"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> </span><span style="color: #8250DF">declassify</span><span style="color: #24292F">(interact.wager);</span></li><li value="2"><span style="color: #CF222E">const</span><span style="color: #24292F"> </span><span style="color: #0550AE">deadline</span><span style="color: #24292F"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> </span><span style="color: #8250DF">declassify</span><span style="color: #24292F">(interact.deadline);</span></li></ol></pre>
<p>But, <em>conditional statements</em> do not end with semicolons:</p>
<pre class="snippet numbered"><ol class="snippet"><li value="1"><span style="color: #CF222E">if</span><span style="color: #24292F"> (</span><span style="color: #CF222E">!</span><span style="color: #24292F">willBuy) {</span></li><li value="2"><span style="color: #24292F">  </span><span style="color: #8250DF">commit</span><span style="color: #24292F">();</span></li><li value="3"><span style="color: #24292F">  </span><span style="color: #8250DF">each</span><span style="color: #24292F">([</span><span style="color: #0550AE">S</span><span style="color: #24292F">, </span><span style="color: #0550AE">B</span><span style="color: #24292F">], () </span><span style="color: #CF222E">=&gt;</span><span style="color: #24292F"> interact.</span><span style="color: #8250DF">reportCancellation</span><span style="color: #24292F">());</span></li><li value="4"><span style="color: #24292F">  </span><span style="color: #8250DF">each</span><span style="color: #24292F">([</span><span style="color: #0550AE">S</span><span style="color: #24292F">, </span><span style="color: #0550AE">B</span><span style="color: #24292F">], () </span><span style="color: #CF222E">=&gt;</span><span style="color: #24292F"> interact.</span><span style="color: #8250DF">reportExit</span><span style="color: #24292F">());</span></li><li value="5"><span style="color: #24292F">  </span><span style="color: #8250DF">exit</span><span style="color: #24292F">();</span></li><li value="6"><span style="color: #24292F">}</span></li></ol></pre>
<p>Statements often include <em>statement identifiers</em> such as <code>break</code>, <code>const</code>, <code>continue</code>, <code>for</code>, <code>if</code>, <code>var</code>, and <code>switch</code>:</p>
<pre class="snippet unnumbered"><ol class="snippet"><li value="1"><span style="color: #CF222E">switch</span><span style="color: #24292F"> ( mi ) {</span></li><li value="2"><span style="color: #24292F">  </span><span style="color: #CF222E">case</span><span style="color: #24292F"> None: </span><span style="color: #CF222E">return</span><span style="color: #24292F"> civ;</span></li><li value="3"><span style="color: #24292F">  </span><span style="color: #CF222E">case</span><span style="color: #24292F"> Some:</span></li><li value="4"><span style="color: #24292F">  </span><span style="color: #CF222E">return</span><span style="color: #24292F"> civ </span><span style="color: #CF222E">+</span><span style="color: #24292F"> mi;</span></li><li value="5"><span style="color: #24292F">}</span></li></ol></pre>
<p><em>Blocks</em> are sequences of statements surrounded by curly braces. Below are five blocks. The third contains the fourth and fifth:</p>
<pre class="snippet numbered"><ol class="snippet"><li value="1"><span style="color: #24292F">{ </span><span style="color: #CF222E">return</span><span style="color: #24292F"> </span><span style="color: #0550AE">42</span><span style="color: #24292F">; }</span></li><li value="2"></li><li value="3"><span style="color: #24292F">{</span></li><li value="4"><span style="color: #24292F">  </span><span style="color: #CF222E">const</span><span style="color: #24292F"> </span><span style="color: #0550AE">x</span><span style="color: #24292F"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> </span><span style="color: #0550AE">31</span><span style="color: #24292F">;</span></li><li value="5"><span style="color: #24292F">  </span><span style="color: #CF222E">return</span><span style="color: #24292F"> x </span><span style="color: #CF222E">+</span><span style="color: #24292F"> </span><span style="color: #0550AE">11</span><span style="color: #24292F">;</span></li><li value="6"><span style="color: #24292F">}</span></li><li value="7"></li><li value="8"><span style="color: #24292F">{ </span></li><li value="9"><span style="color: #24292F">  </span><span style="color: #CF222E">if</span><span style="color: #24292F"> ( x </span><span style="color: #CF222E">&lt;</span><span style="color: #24292F"> y ) {</span></li><li value="10"><span style="color: #24292F">    </span><span style="color: #CF222E">return</span><span style="color: #24292F"> </span><span style="color: #0A3069">'Why'</span><span style="color: #24292F">;</span></li><li value="11"><span style="color: #24292F">  } </span><span style="color: #CF222E">else</span><span style="color: #24292F"> {</span></li><li value="12"><span style="color: #24292F">    </span><span style="color: #CF222E">return</span><span style="color: #24292F"> </span><span style="color: #0A3069">'Ecks'</span><span style="color: #24292F">;</span></li><li value="13"><span style="color: #24292F">  }</span></li><li value="14"><span style="color: #24292F">}</span></li></ol></pre>
<p><em>Tails</em> are statements that follow a prior statement. Consider the following:</p>
<pre class="snippet numbered"><ol class="snippet"><li value="1"><span style="color: #24292F">{</span></li><li value="2"><span style="color: #24292F">  </span><span style="color: #0550AE">X</span><span style="color: #24292F">;</span></li><li value="3"><span style="color: #24292F">  </span><span style="color: #0550AE">Y</span><span style="color: #24292F">;</span></li><li value="4"><span style="color: #24292F">  </span><span style="color: #0550AE">Z</span><span style="color: #24292F">;</span></li><li value="5"><span style="color: #24292F">}</span></li></ol></pre>
<p>In this block, the tail of statement <code>X</code> is <code>{ Y; Z; }</code>, and the tail of statement <code>Y</code> is <code>{ Z; }</code>. Tails are statically apparent from the structure of the source code.</p>
<p><em>Continuations</em> are all the statements that follow a prior statement. Consider the following:</p>
<pre class="snippet numbered"><ol class="snippet"><li value="1"><span style="color: #24292F">{ </span></li><li value="2"><span style="color: #24292F">  {</span></li><li value="3"><span style="color: #24292F">    </span><span style="color: #0550AE">X</span><span style="color: #24292F">;</span></li><li value="4"><span style="color: #24292F">    </span><span style="color: #0550AE">Y</span><span style="color: #24292F">;</span></li><li value="5"><span style="color: #24292F">  };</span></li><li value="6"><span style="color: #24292F">  </span><span style="color: #0550AE">Z</span><span style="color: #24292F">;</span></li><li value="7"><span style="color: #24292F">}</span></li></ol></pre>
<p>In this block, the continuation of statement <code>X</code> is <code>{ Y; }; Z;</code>. Continuations are not statically apparent. On the contrary, continuations are influenced by function calls.</p>
<p>A <em>block statement</em>, a statement composed of a block, establishes a local scope for the identifier definitions within the curly braces, isolating the definitions from the statement tail. Consider this example that does <em>not</em> include a block statement:</p>
<pre class="snippet numbered"><ol class="snippet"><li value="1"><span style="color: #CF222E">const</span><span style="color: #24292F"> </span><span style="color: #0550AE">x</span><span style="color: #24292F"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> </span><span style="color: #0550AE">4</span><span style="color: #24292F">;</span></li><li value="2"><span style="color: #CF222E">return</span><span style="color: #24292F"> x;</span></li></ol></pre>
<p>Above, <code>x</code> evaluates to <code>4</code>. The snippet below isolates <code>const x = 4</code> within a block statment:</p>
<pre class="snippet numbered"><ol class="snippet"><li value="1"><span style="color: #24292F">{ </span><span style="color: #CF222E">const</span><span style="color: #24292F"> </span><span style="color: #0550AE">x</span><span style="color: #24292F"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> </span><span style="color: #0550AE">4</span><span style="color: #24292F">; }</span></li><li value="2"><span style="color: #CF222E">return</span><span style="color: #24292F"> x;</span></li></ol></pre>
<p>Now, <code>return x</code> is erroneous because <code>x</code> is unbound outside the block statement.</p>
<p><em>Terminator Statements</em> are statements with no tail. Consider the following:</p>
<pre class="snippet numbered"><ol class="snippet"><li value="1"><span style="color: #24292F">{</span></li><li value="2"><span style="color: #24292F">  </span><span style="color: #0550AE">X</span><span style="color: #24292F">;</span></li><li value="3"><span style="color: #24292F">  </span><span style="color: #0550AE">Y</span><span style="color: #24292F">;</span></li><li value="4"><span style="color: #24292F">  </span><span style="color: #0550AE">Z</span><span style="color: #24292F">;</span></li><li value="5"><span style="color: #24292F">}</span></li></ol></pre>
<p>In this block, <code>Z</code> is the terminator statement because it does not have a tail. Blocks that end with <code>return</code>, <code>continue</code>, or <code>exit</code> do not have terminator statements. The compiler treats these types of blocks as if they end with <code>return null</code>.</p>
<h2 id="const">const</h2>
<p><code>const</code> is an <em>identifier definition</em> that binds an identifier to a <em>value</em> definition. Here are examples:</p>
<pre class="snippet numbered"><ol class="snippet"><li value="1"><span style="color: #CF222E">const</span><span style="color: #24292F"> </span><span style="color: #0550AE">DELAY</span><span style="color: #24292F"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> </span><span style="color: #0550AE">10</span><span style="color: #24292F">;</span></li><li value="2"><span style="color: #CF222E">const</span><span style="color: #24292F"> [ </span><span style="color: #0550AE">Good</span><span style="color: #24292F">, </span><span style="color: #0550AE">Bad</span><span style="color: #24292F"> ] </span><span style="color: #CF222E">=</span><span style="color: #24292F"> [ </span><span style="color: #0550AE">42</span><span style="color: #24292F">, </span><span style="color: #0550AE">43</span><span style="color: #24292F"> ];</span></li><li value="3"><span style="color: #CF222E">const</span><span style="color: #24292F"> { </span><span style="color: #0550AE">x</span><span style="color: #24292F">, </span><span style="color: #0550AE">y</span><span style="color: #24292F"> } </span><span style="color: #CF222E">=</span><span style="color: #24292F"> { x: </span><span style="color: #0550AE">1</span><span style="color: #24292F">, y: </span><span style="color: #0550AE">2</span><span style="color: #24292F"> };</span></li><li value="4"><span style="color: #CF222E">const</span><span style="color: #24292F"> [ </span><span style="color: #0550AE">x</span><span style="color: #24292F">, [ </span><span style="color: #0550AE">y</span><span style="color: #24292F"> ] ] </span><span style="color: #CF222E">=</span><span style="color: #24292F"> [ </span><span style="color: #0550AE">1</span><span style="color: #24292F">, [ </span><span style="color: #0550AE">2</span><span style="color: #24292F"> ] ];</span></li><li value="5"><span style="color: #CF222E">const</span><span style="color: #24292F"> [ </span><span style="color: #0550AE">x</span><span style="color: #24292F">, { </span><span style="color: #0550AE">y</span><span style="color: #24292F"> } ] </span><span style="color: #CF222E">=</span><span style="color: #24292F"> [ </span><span style="color: #0550AE">1</span><span style="color: #24292F">, { y: </span><span style="color: #0550AE">2</span><span style="color: #24292F"> } ];</span></li><li value="6"><span style="color: #CF222E">const</span><span style="color: #24292F"> { </span><span style="color: #953800">x</span><span style="color: #24292F">: [ </span><span style="color: #0550AE">a</span><span style="color: #24292F">, </span><span style="color: #0550AE">b</span><span style="color: #24292F"> ] } </span><span style="color: #CF222E">=</span><span style="color: #24292F"> { x: [ </span><span style="color: #0550AE">1</span><span style="color: #24292F">, </span><span style="color: #0550AE">2</span><span style="color: #24292F"> ] };</span></li></ol></pre>
<h2 id="function">function</h2>
<p><code>function</code> is an <em>identifier definition</em> that binds an identifier to a <em>function</em> definition. Here are examples:</p>
<pre class="snippet unnumbered"><ol class="snippet"><li value="1"><span style="color: #CF222E">function</span><span style="color: #24292F"> </span><span style="color: #8250DF">randomBool</span><span style="color: #24292F">() { </span><span style="color: #CF222E">return</span><span style="color: #24292F"> (interact.</span><span style="color: #8250DF">random</span><span style="color: #24292F">() </span><span style="color: #CF222E">%</span><span style="color: #24292F"> </span><span style="color: #0550AE">2</span><span style="color: #24292F">) </span><span style="color: #CF222E">==</span><span style="color: #24292F"> </span><span style="color: #0550AE">0</span><span style="color: #24292F">; };</span></li></ol></pre>
<pre class="snippet unnumbered"><ol class="snippet"><li value="1"><span style="color: #CF222E">function</span><span style="color: #24292F"> </span><span style="color: #8250DF">f</span><span style="color: #24292F">(</span><span style="color: #953800">a</span><span style="color: #24292F">, </span><span style="color: #953800">b</span><span style="color: #24292F">, </span><span style="color: #953800">c</span><span style="color: #24292F"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> a </span><span style="color: #CF222E">+</span><span style="color: #24292F"> </span><span style="color: #0550AE">1</span><span style="color: #24292F">, </span><span style="color: #953800">d</span><span style="color: #24292F"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> b </span><span style="color: #CF222E">+</span><span style="color: #24292F"> c) </span><span style="color: #CF222E">=&gt;</span><span style="color: #24292F"> </span><span style="color: #953800">a</span><span style="color: #24292F"> + </span><span style="color: #953800">b</span><span style="color: #24292F"> + </span><span style="color: #953800">c</span><span style="color: #24292F"> + </span><span style="color: #953800">d</span><span style="color: #24292F">;</span></li></ol></pre>
<h2 id="ifelse">if...else</h2>
<h2 id="return">return</h2>
<h2 id="switch">switch</h2>
<h2 id="var">var</h2>
<h1 id="expressions">Expressions</h1>
<p>An <em>expression</em> evaluates to a value.</p>
<p>Expressions may include parentheses that enforce operational order:</p>
<pre class="snippet unnumbered"><ol class="snippet"><li value="1"><span style="color: #24292F">(a </span><span style="color: #CF222E">+</span><span style="color: #24292F"> b) </span><span style="color: #CF222E">-</span><span style="color: #24292F"> c</span></li></ol></pre>
<p>Reach includes the expressions described below.</p>
<h2 id="anybody">Anybody</h2>
<h2 id="arithmetic">Arithmetic</h2>
<p>muldiv</p>
<p>sqrt</p>
<p>pow</p>
<h2 id="arrays">Arrays</h2>
<p>An <em>array</em> is ...</p>
<p><code>array</code> converts a tuple of homogeneous values of the specified type into an array.</p>
<p>An <em>element reference</em> ...</p>
<h2 id="arrow-expression">Arrow Expression</h2>
<h2 id="assert">assert</h2>
<h2 id="balance">balance</h2>
<h2 id="compose">compose</h2>
<h2 id="data">Data</h2>
<p>A <em>data instance</em> is ...</p>
<h2 id="digest">digest</h2>
<h2 id="either">Either</h2>
<h2 id="ensure">ensure</h2>
<h2 id="fixed-point-numbers">Fixed-point Numbers</h2>
<h2 id="forall">forall</h2>
<h2 id="getaddress">getAddress</h2>
<h2 id="getcontract">getContract</h2>
<h2 id="hasconsolelogger">hasConsoleLogger</h2>
<h2 id="hasrandom">hasRandom</h2>
<h2 id="implies">implies</h2>
<h2 id="intervals">Intervals</h2>
<p>Constructors</p>
<p>Accessors</p>
<p>Relational Operations</p>
<p>Arithmetic Operations</p>
<p>Other Operations</p>
<h2 id="literals">Literals</h2>
<h2 id="makeenum">makeEnum</h2>
<h2 id="maps">Maps</h2>
<p>A <em>map</em> is ...</p>
<h2 id="match">match</h2>
<h2 id="maybe">Maybe</h2>
<h2 id="new">new</h2>
<h2 id="objects">Objects</h2>
<p>An <em>object</em> is ...</p>
<h2 id="operators">Operators</h2>
<p><em>Operators</em> perform operations on operands. Most operators have equivalent JS Stdlib function equivalents.</p>
<table>
  <thead>
    <tr>
      <th>Operator</th>
      <th>Function</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>-</code></td>
      <td><code>sub(a, b)</code></td>
      <td><code>a - b</code></td>
    </tr>
    <tr>
      <td><code>!</code></td>
      <td>n/a</td>
      <td><code>not</code></td>
    </tr>
    <tr>
      <td><code>!=</code><br><code>!==</code></td>
      <td><code>polyNeq(a, b)</code></td>
      <td></td>
    </tr>
    <tr>
      <td><code>*</code></td>
      <td><code>mul(a, b)</code></td>
      <td><code>a * b</code></td>
    </tr>
    <tr>
      <td><code>/</code></td>
      <td><code>div(a, b)</code></td>
      <td><code>a / b</code></td>
    </tr>
    <tr>
      <td><code>&amp;</code></td>
      <td><code>band(a, b)</code></td>
      <td></td>
    </tr>
    <tr>
      <td><code>&amp;&amp;</code></td>
      <td><code>and(a, b)</code></td>
      <td></td>
    </tr>
    <tr>
      <td><code>%</code></td>
      <td><code>mod(a, b)</code></td>
      <td></td>
    </tr>
    <tr>
      <td><code>^</code></td>
      <td><code>bxor(a, b)</code></td>
      <td></td>
    </tr>
    <tr>
      <td><code>+</code></td>
      <td><code>add(a, b)</code></td>
      <td><code>a + b</code></td>
    </tr>
    <tr>
      <td><code>&lt;</code></td>
      <td><code>lt(a, b)</code></td>
      <td></td>
    </tr>
    <tr>
      <td><code>&lt;&lt;</code></td>
      <td><code>lsh(a, b)</code></td>
      <td></td>
    </tr>
    <tr>
      <td><code>&lt;=</code></td>
      <td><code>le(a, b)</code></td>
      <td></td>
    </tr>
    <tr>
      <td><code>==</code><br><code>===</code></td>
      <td><code>addrEq(a, b)</code><br><code>boolEq(a, b)</code><br><code>digestEq(a, b)</code><br><code>fxeq(a, b)</code><br><code>ieq(a, b)</code><br><code>intEq(a, b)</code><br><code>polyEq(a, b)</code><br><code>typeEq(a, b)</code></td>
      <td></td>
    </tr>
    <tr>
      <td><code>&gt;</code></td>
      <td><code>gt(a, b)</code></td>
      <td></td>
    </tr>
    <tr>
      <td><code>&gt;=</code></td>
      <td><code>ge(a, b)</code></td>
      <td></td>
    </tr>
    <tr>
      <td><code>&gt;&gt;</code></td>
      <td><code>rsh(a, b)</code></td>
      <td></td>
    </tr>
    <tr>
      <td><code>|</code></td>
      <td><code>bior(a, b)</code></td>
      <td></td>
    </tr>
    <tr>
      <td><code>||</code></td>
      <td><code>or(a, b)</code></td>
      <td></td>
    </tr>
    <tr>
      <td>n/a</td>
      <td><code>xor(a, b)</code></td>
      <td></td>
    </tr>
  </tbody>
</table>
<h2 id="pad">pad</h2>
<h2 id="possible">possible</h2>
<h2 id="sets">Sets</h2>
<p>A <em>set</em> is ...</p>
<h2 id="signed-integers">Signed Integers</h2>
<h2 id="structs">Structs</h2>
<p>A <em>struct</em> is ...</p>
<h2 id="ternary-operator">Ternary Operator</h2>
<h2 id="time">Time</h2>
<p>lastConsensusTime</p>
<p>lastConsensusSecs</p>
<p>baseWaitTime</p>
<p>baseWaitSecs</p>
<p>relativeTime</p>
<p>absoluteTime</p>
<p>relativeSecs</p>
<p>absoluteSecs</p>
<p>makeDeadline</p>
<h2 id="this">this</h2>
<h2 id="tuples">Tuples</h2>
<p>A <em>tuple</em> is ...</p>
<h2 id="types">Types</h2>
<h2 id="unstrict">unstrict</h2>
<h2 id="use-strict">use strict</h2>