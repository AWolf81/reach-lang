<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-149147406-1"></script><script>window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-149147406-1');</script><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>5.4.6&nbsp;Computations</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Reach:<span class="mywbr"> &nbsp;</span> The Safest and Easiest DApp Programming Language</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="overview.html" class="tocviewlink" data-pltdoc="x">Overview</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="tut.html" class="tocviewlink" data-pltdoc="x">Tutorial</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="guide.html" class="tocviewlink" data-pltdoc="x">Guide</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="workshop.html" class="tocviewlink" data-pltdoc="x">Workshop</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="ref.html" class="tocviewselflink" data-pltdoc="x">Reference</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" data-pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>5&nbsp;</td><td><a href="ref.html" class="tocviewlink" data-pltdoc="x">Reference</a></td></tr></table><div class="tocviewsublist" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">5.1&nbsp;</td><td><a href="install.html" class="tocviewlink" data-pltdoc="x">Installation</a></td></tr><tr><td align="right">5.2&nbsp;</td><td><a href="ref-usage.html" class="tocviewlink" data-pltdoc="x">Usage</a></td></tr><tr><td align="right">5.3&nbsp;</td><td><a href="ref-model.html" class="tocviewlink" data-pltdoc="x">Language Model</a></td></tr><tr><td align="right">5.4&nbsp;</td><td><a href="ref-programs.html" class="tocviewselflink" data-pltdoc="x">Programs</a></td></tr><tr><td align="right">5.5&nbsp;</td><td><a href="ref-networks.html" class="tocviewlink" data-pltdoc="x">Consensus Network Connectors</a></td></tr><tr><td align="right">5.6&nbsp;</td><td><a href="ref-backends.html" class="tocviewlink" data-pltdoc="x">Participant Backends</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">&#9660;</a></td><td>5.4&nbsp;</td><td><a href="ref-programs.html" class="tocviewlink" data-pltdoc="x">Programs</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tr><td align="right">5.4.1&nbsp;</td><td><a href="ref-programs-valid.html" class="tocviewlink" data-pltdoc="x">Validity</a></td></tr><tr><td align="right">5.4.2&nbsp;</td><td><a href="ref-programs-module.html" class="tocviewlink" data-pltdoc="x">Modules</a></td></tr><tr><td align="right">5.4.3&nbsp;</td><td><a href="ref-programs-step.html" class="tocviewlink" data-pltdoc="x">Steps</a></td></tr><tr><td align="right">5.4.4&nbsp;</td><td><a href="ref-programs-local.html" class="tocviewlink" data-pltdoc="x">Local Steps</a></td></tr><tr><td align="right">5.4.5&nbsp;</td><td><a href="ref-programs-consensus.html" class="tocviewlink" data-pltdoc="x">Consensus Steps</a></td></tr><tr><td align="right">5.4.6&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Computations</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_3&quot;);">&#9658;</a></td><td>5.4.6&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Computations</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_3"><table cellspacing="0" cellpadding="0"><tr><td align="right">5.4.6.1&nbsp;</td><td><a href="#%28part._.Comments%29" class="tocviewlink" data-pltdoc="x">Comments</a></td></tr><tr><td align="right">5.4.6.2&nbsp;</td><td><a href="#%28part._.Blocks%29" class="tocviewlink" data-pltdoc="x">Blocks</a></td></tr><tr><td align="right">5.4.6.3&nbsp;</td><td><a href="#%28part._ref-programs-compute-stmts%29" class="tocviewlink" data-pltdoc="x">Statements</a></td></tr><tr><td align="right">5.4.6.4&nbsp;</td><td><a href="#%28part._ref-programs-compute-exprs%29" class="tocviewlink" data-pltdoc="x">Expressions</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">5.4.6.1<tt>&nbsp;</tt></span><a href="#%28part._.Comments%29" class="tocsubseclink" data-pltdoc="x">Comments</a></td></tr><tr><td><span class="tocsublinknumber">5.4.6.2<tt>&nbsp;</tt></span><a href="#%28part._.Blocks%29" class="tocsubseclink" data-pltdoc="x">Blocks</a></td></tr><tr><td><span class="tocsublinknumber">5.4.6.3<tt>&nbsp;</tt></span><a href="#%28part._ref-programs-compute-stmts%29" class="tocsubseclink" data-pltdoc="x">Statements</a></td></tr><tr><td><span class="tocsublinknumber">5.4.6.3.1<tt>&nbsp;</tt></span><a href="#%28part._const_and_function%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">const</span> and <span class="stt">function</span></a></td></tr><tr><td><span class="tocsublinknumber">5.4.6.3.2<tt>&nbsp;</tt></span><a href="#%28part._return%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">return</span></a></td></tr><tr><td><span class="tocsublinknumber">5.4.6.3.3<tt>&nbsp;</tt></span><a href="#%28part._if%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">if</span></a></td></tr><tr><td><span class="tocsublinknumber">5.4.6.3.4<tt>&nbsp;</tt></span><a href="#%28part._.Block_statements%29" class="tocsubseclink" data-pltdoc="x">Block statements</a></td></tr><tr><td><span class="tocsublinknumber">5.4.6.3.5<tt>&nbsp;</tt></span><a href="#%28part._.Expression_statements%29" class="tocsubseclink" data-pltdoc="x">Expression statements</a></td></tr><tr><td><span class="tocsublinknumber">5.4.6.4<tt>&nbsp;</tt></span><a href="#%28part._ref-programs-compute-exprs%29" class="tocsubseclink" data-pltdoc="x">Expressions</a></td></tr><tr><td><span class="tocsublinknumber">5.4.6.4.1<tt>&nbsp;</tt></span><a href="#%28part._.Identifier_reference%29" class="tocsubseclink" data-pltdoc="x">Identifier reference</a></td></tr><tr><td><span class="tocsublinknumber">5.4.6.4.2<tt>&nbsp;</tt></span><a href="#%28part._.Function_application%29" class="tocsubseclink" data-pltdoc="x">Function application</a></td></tr><tr><td><span class="tocsublinknumber">5.4.6.4.3<tt>&nbsp;</tt></span><a href="#%28part._.Types%29" class="tocsubseclink" data-pltdoc="x">Types</a></td></tr><tr><td><span class="tocsublinknumber">5.4.6.4.4<tt>&nbsp;</tt></span><a href="#%28part._.Literal_values%29" class="tocsubseclink" data-pltdoc="x">Literal values</a></td></tr><tr><td><span class="tocsublinknumber">5.4.6.4.5<tt>&nbsp;</tt></span><a href="#%28part._.Operator_expression%29" class="tocsubseclink" data-pltdoc="x">Operator expression</a></td></tr><tr><td><span class="tocsublinknumber">5.4.6.4.6<tt>&nbsp;</tt></span><a href="#%28part._.Parenthesized_expression%29" class="tocsubseclink" data-pltdoc="x">Parenthesized expression</a></td></tr><tr><td><span class="tocsublinknumber">5.4.6.4.7<tt>&nbsp;</tt></span><a href="#%28part._.Tuples%29" class="tocsubseclink" data-pltdoc="x">Tuples</a></td></tr><tr><td><span class="tocsublinknumber">5.4.6.4.8<tt>&nbsp;</tt></span><a href="#%28part._array%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">array</span></a></td></tr><tr><td><span class="tocsublinknumber">5.4.6.4.9<tt>&nbsp;</tt></span><a href="#%28part._.Element_reference%29" class="tocsubseclink" data-pltdoc="x">Element reference</a></td></tr><tr><td><span class="tocsublinknumber">5.4.6.4.10<tt>&nbsp;</tt></span><a href="#%28part._tuple_set__array_set__and__set%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">tuple_<span class="mywbr"> &nbsp;</span>set</span>, <span class="stt">array_<span class="mywbr"> &nbsp;</span>set</span>, and <span class="stt">.set</span></a></td></tr><tr><td><span class="tocsublinknumber">5.4.6.4.11<tt>&nbsp;</tt></span><a href="#%28part._.Objects%29" class="tocsubseclink" data-pltdoc="x">Objects</a></td></tr><tr><td><span class="tocsublinknumber">5.4.6.4.12<tt>&nbsp;</tt></span><a href="#%28part._.Field_reference%29" class="tocsubseclink" data-pltdoc="x">Field reference</a></td></tr><tr><td><span class="tocsublinknumber">5.4.6.4.13<tt>&nbsp;</tt></span><a href="#%28part._object_set%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">object_<span class="mywbr"> &nbsp;</span>set</span></a></td></tr><tr><td><span class="tocsublinknumber">5.4.6.4.14<tt>&nbsp;</tt></span><a href="#%28part._.Conditional_expression%29" class="tocsubseclink" data-pltdoc="x">Conditional expression</a></td></tr><tr><td><span class="tocsublinknumber">5.4.6.4.15<tt>&nbsp;</tt></span><a href="#%28part._.Arrow_expression%29" class="tocsubseclink" data-pltdoc="x">Arrow expression</a></td></tr><tr><td><span class="tocsublinknumber">5.4.6.4.16<tt>&nbsp;</tt></span><a href="#%28part._make.Enum%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">make<span class="mywbr"> &nbsp;</span>Enum</span></a></td></tr><tr><td><span class="tocsublinknumber">5.4.6.4.17<tt>&nbsp;</tt></span><a href="#%28part._assert%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">assert</span></a></td></tr><tr><td><span class="tocsublinknumber">5.4.6.4.18<tt>&nbsp;</tt></span><a href="#%28part._forall%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">forall</span></a></td></tr><tr><td><span class="tocsublinknumber">5.4.6.4.19<tt>&nbsp;</tt></span><a href="#%28part._possible%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">possible</span></a></td></tr><tr><td><span class="tocsublinknumber">5.4.6.4.20<tt>&nbsp;</tt></span><a href="#%28part._digest%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">digest</span></a></td></tr><tr><td><span class="tocsublinknumber">5.4.6.4.21<tt>&nbsp;</tt></span><a href="#%28part._balance%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">balance</span></a></td></tr><tr><td><span class="tocsublinknumber">5.4.6.4.22<tt>&nbsp;</tt></span><a href="#%28part._implies%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">implies</span></a></td></tr><tr><td><span class="tocsublinknumber">5.4.6.4.23<tt>&nbsp;</tt></span><a href="#%28part._ensure%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">ensure</span></a></td></tr><tr><td><span class="tocsublinknumber">5.4.6.4.24<tt>&nbsp;</tt></span><a href="#%28part._has.Random%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">has<span class="mywbr"> &nbsp;</span>Random</span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="ref-programs-consensus.html" title="backward to &quot;5.4.5 Consensus Steps&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="ref-programs.html" title="up to &quot;5.4 Programs&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="ref-networks.html" title="forward to &quot;5.5 Consensus Network Connectors&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h5>5.4.6<tt>&nbsp;</tt><a name="(part._ref-programs-compute)"></a>Computations</h5><p>This section describes the common features available in all Reach contexts.</p><h5>5.4.6.1<tt>&nbsp;</tt><a name="(part._.Comments)"></a>Comments</h5><p><div class="highlight"><pre><span></span><span class="c1">// single-line comment</span>
<span class="cm">/* multi-line</span>
<span class="cm"> * comment</span>
<span class="cm"> */</span> 
</pre></div>
</p><p>Comments are text that is ignored by the compiler.
Text starting with <span class="RktInBG"><span class="hspace"></span><span class="RktIn">//</span><span class="hspace"></span></span> up until the end of the line forms a <a name="(tech._single._line._comment)"></a><span style="font-style: italic">single-line comment</span>.
Text enclosed with <span class="RktInBG"><span class="hspace"></span><span class="RktIn">/*</span><span class="hspace"></span></span> and <span class="RktInBG"><span class="hspace"></span><span class="RktIn">*/</span><span class="hspace"></span></span> forms a <a name="(tech._multi._line._comment)"></a><span style="font-style: italic">multi-line comment</span>.
It is <a href="ref-programs-valid.html#%28tech._invalid%29" class="techoutside" data-pltdoc="x"><span class="techinside">invalid</span></a> to nest a <a href="#%28tech._multi._line._comment%29" class="techoutside" data-pltdoc="x"><span class="techinside">multi-line comment</span></a> within a <a href="#%28tech._multi._line._comment%29" class="techoutside" data-pltdoc="x"><span class="techinside">multi-line comment</span></a>.</p><h5>5.4.6.2<tt>&nbsp;</tt><a name="(part._.Blocks)"></a>Blocks</h5><p><div class="highlight"><pre><span></span><span class="p">{</span> <span class="k">return</span> <span class="mi">42</span><span class="p">;</span> <span class="p">}</span>
<span class="p">{</span> <span class="kd">const</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">31</span><span class="p">;</span>
  <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="mi">11</span><span class="p">;</span> <span class="p">}</span>
<span class="p">{</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">x</span> <span class="o">&lt;</span> <span class="nx">y</span> <span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s2">&quot;Why&quot;</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s2">&quot;Ecks&quot;</span><span class="p">;</span> <span class="p">}</span> <span class="p">}</span> 
</pre></div>
</p><p>A <a name="(tech._block)"></a><span style="font-style: italic">block</span> is a sequence of <a href="#%28tech._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">statements</span></a> surrounded by braces, i.e. <span class="RktInBG"><span class="hspace"></span><span class="RktIn">{</span><span class="hspace"></span></span> and <span class="RktInBG"><span class="hspace"></span><span class="RktIn">}</span><span class="hspace"></span></span>.</p><h5>5.4.6.3<tt>&nbsp;</tt><a name="(part._ref-programs-compute-stmts)"></a>Statements</h5><p>This section describes the <a name="(tech._statement)"></a><span style="font-style: italic">statements</span> which are allowed in any Reach context.</p><p>Each <a href="#%28tech._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">statement</span></a> affects the meaning of the subsequent <a href="#%28tech._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">statements</span></a>, which is called its <a name="(tech._tail)"></a><span style="font-style: italic">tail</span>. For example, if <code class="highlight-inline"><span class="p">{</span><span class="nx">X</span><span class="p">;</span> <span class="nx">Y</span><span class="p">;</span> <span class="nx">Z</span><span class="p">;}</span></code> is a <a href="#%28tech._block%29" class="techoutside" data-pltdoc="x"><span class="techinside">block</span></a>, then <code class="highlight-inline"><span class="nx">X</span></code>&rsquo;s <a href="#%28tech._tail%29" class="techoutside" data-pltdoc="x"><span class="techinside">tail</span></a> is <code class="highlight-inline"><span class="p">{</span><span class="nx">Y</span><span class="p">;</span> <span class="nx">Z</span><span class="p">;}</span></code> and <code class="highlight-inline"><span class="nx">Y</span></code>&rsquo;s <a href="#%28tech._tail%29" class="techoutside" data-pltdoc="x"><span class="techinside">tail</span></a> is <code class="highlight-inline"><span class="p">{</span><span class="nx">Z</span><span class="p">;}</span></code>.</p><p>Distinct from <a href="#%28tech._tail%29" class="techoutside" data-pltdoc="x"><span class="techinside">tails</span></a> are <a name="(tech._continuation)"></a><span style="font-style: italic">continuations</span> which include everything after the <a href="#%28tech._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">statement</span></a>. For example, in <code class="highlight-inline"><span class="p">{{</span><span class="nx">X</span><span class="p">;</span> <span class="nx">Y</span><span class="p">;};</span> <span class="nx">Z</span><span class="p">;}</span></code>, <code class="highlight-inline"><span class="nx">X</span></code>&rsquo;s <a href="#%28tech._tail%29" class="techoutside" data-pltdoc="x"><span class="techinside">tail</span></a> is just <code class="highlight-inline"><span class="nx">Y</span></code>, but its <a href="#%28tech._continuation%29" class="techoutside" data-pltdoc="x"><span class="techinside">continuation</span></a> is <code class="highlight-inline"><span class="p">{</span><span class="nx">Y</span><span class="p">;};</span> <span class="nx">Z</span><span class="p">;</span></code>.</p><p><a href="#%28tech._tail%29" class="techoutside" data-pltdoc="x"><span class="techinside">Tails</span></a> are statically apparent from the structure of the program source code, while <a href="#%28tech._continuation%29" class="techoutside" data-pltdoc="x"><span class="techinside">continuations</span></a> are influenced by function calls.</p><p>A sequence of <a href="#%28tech._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">statements</span></a> that does not end in a <a name="(tech._terminator._statement)"></a><span style="font-style: italic">terminator statement</span> (a <a href="#%28tech._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">statement</span></a> with no <a href="#%28tech._tail%29" class="techoutside" data-pltdoc="x"><span class="techinside">tail</span></a>), such as a <a href="#%28tech._return._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">return statement</span></a>, <a href="ref-programs-consensus.html#%28tech._continue._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">continue statement</span></a>, or <a href="ref-programs-step.html#%28tech._exit._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">exit statement</span></a> is treated as if it ended with <code class="highlight-inline"><span class="k">return</span> <span class="kc">null</span><span class="p">;</span></code>.</p><p>The remainder of this section enumerates each kind of <a href="#%28tech._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">statement</span></a>.</p><h5>5.4.6.3.1<tt>&nbsp;</tt><a name="(part._const_and_function)"></a><span class="stt">const</span> and <span class="stt">function</span></h5><p>An <a name="(tech._identifier._definition)"></a><span style="font-style: italic">identifier definition</span> is either
a <a href="#%28tech._value._definition%29" class="techoutside" data-pltdoc="x"><span class="techinside">value definition</span></a>
or a <a href="#%28tech._function._definition%29" class="techoutside" data-pltdoc="x"><span class="techinside">function definition</span></a>.
Each of these introduces one or more <a name="(tech._bound._identifier)"></a><span style="font-style: italic">bound identifier</span>s.</p><p><div class="SIntrapara"><span style="font-weight: bold">&#8212;<wbr></wbr></span></div><div class="SIntrapara"><div class="highlight"><pre><span></span><span class="kd">const</span> <span class="nx">DELAY</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="kd">const</span> <span class="p">[</span> <span class="nx">Good</span><span class="p">,</span> <span class="nx">Bad</span> <span class="p">]</span> <span class="o">=</span> <span class="p">[</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">43</span> <span class="p">];</span> 
</pre></div>
</div></p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p><a href="ref-programs-valid.html#%28tech._valid%29" class="techoutside" data-pltdoc="x"><span class="techinside">Valid</span></a> <a name="(tech._identifier)"></a><span style="font-style: italic">identifiers</span> follow the same rules as JavaScript identifiers:
they may consist of Unicode alphanumeric characters,
or <code class="highlight-inline"><span class="nx">_</span></code> or <code class="highlight-inline"><span class="nx">$</span></code>,
but may not begin with a digit.</p></blockquote></blockquote></blockquote><p>A <a name="(tech._value._definition)"></a><span style="font-style: italic">value definition</span> is written <code class="highlight-inline"><span class="kd">const</span> <span class="nx">LHS</span> <span class="o">=</span> <span class="nx">RHS</span><span class="p">;</span></code>.</p><p><code class="highlight-inline"><span class="nx">LHS</span></code> must obey the grammar:</p><p><table cellspacing="0" cellpadding="0"><tr><td valign="baseline"><p><span class="hspace">&nbsp;</span></p></td><td valign="baseline"><p><span class="sroman">&#8249;<span style="font-style: italic">LHS</span>&#8250;</span></p></td><td valign="baseline"><p><span class="stt"><span class="hspace">&nbsp;</span>::=<span class="hspace">&nbsp;</span></span></p></td><td valign="baseline"><p><span class="sroman">&#8249;<span style="font-style: italic">id</span>&#8250;</span></p></td></tr><tr><td valign="baseline"><p><span class="hspace">&nbsp;</span></p></td><td valign="baseline"><p> </p></td><td valign="baseline"><p><span class="stt"><span class="hspace">&nbsp;</span><span class="hspace">&nbsp;</span>|<span class="hspace">&nbsp;</span><span class="hspace">&nbsp;</span></span></p></td><td valign="baseline"><p><span class="RktInBG"><span class="hspace"></span><span class="RktIn">[</span><span class="hspace"></span></span><span class="hspace">&nbsp;</span><span class="sroman">&#8249;<span style="font-style: italic">LHS-tuple-seq</span>&#8250;</span><span class="hspace">&nbsp;</span><span class="RktInBG"><span class="hspace"></span><span class="RktIn">]</span><span class="hspace"></span></span></p></td></tr><tr><td valign="baseline"><p><span class="hspace">&nbsp;</span></p></td><td valign="baseline"><p> </p></td><td valign="baseline"><p><span class="stt"><span class="hspace">&nbsp;</span><span class="hspace">&nbsp;</span>|<span class="hspace">&nbsp;</span><span class="hspace">&nbsp;</span></span></p></td><td valign="baseline"><p><span class="RktInBG"><span class="hspace"></span><span class="RktIn">{</span><span class="hspace"></span></span><span class="hspace">&nbsp;</span><span class="sroman">&#8249;<span style="font-style: italic">LHS-obj-seq</span>&#8250;</span><span class="hspace">&nbsp;</span><span class="RktInBG"><span class="hspace"></span><span class="RktIn">}</span><span class="hspace"></span></span></p></td></tr><tr><td valign="baseline"><p><span class="hspace">&nbsp;</span></p></td><td valign="baseline"><p><span class="sroman">&#8249;<span style="font-style: italic">LHS-tuple-seq</span>&#8250;</span></p></td><td valign="baseline"><p><span class="stt"><span class="hspace">&nbsp;</span>::=<span class="hspace">&nbsp;</span></span></p></td><td valign="baseline"><p></p></td></tr><tr><td valign="baseline"><p><span class="hspace">&nbsp;</span></p></td><td valign="baseline"><p> </p></td><td valign="baseline"><p><span class="stt"><span class="hspace">&nbsp;</span><span class="hspace">&nbsp;</span>|<span class="hspace">&nbsp;</span><span class="hspace">&nbsp;</span></span></p></td><td valign="baseline"><p><span class="RktInBG"><span class="hspace"></span><span class="RktIn">...</span><span class="hspace"></span></span><span class="hspace">&nbsp;</span><span class="sroman">&#8249;<span style="font-style: italic">LHS</span>&#8250;</span></p></td></tr><tr><td valign="baseline"><p><span class="hspace">&nbsp;</span></p></td><td valign="baseline"><p> </p></td><td valign="baseline"><p><span class="stt"><span class="hspace">&nbsp;</span><span class="hspace">&nbsp;</span>|<span class="hspace">&nbsp;</span><span class="hspace">&nbsp;</span></span></p></td><td valign="baseline"><p><span class="sroman">&#8249;<span style="font-style: italic">LHS</span>&#8250;</span></p></td></tr><tr><td valign="baseline"><p><span class="hspace">&nbsp;</span></p></td><td valign="baseline"><p> </p></td><td valign="baseline"><p><span class="stt"><span class="hspace">&nbsp;</span><span class="hspace">&nbsp;</span>|<span class="hspace">&nbsp;</span><span class="hspace">&nbsp;</span></span></p></td><td valign="baseline"><p><span class="sroman">&#8249;<span style="font-style: italic">LHS</span>&#8250;</span><span class="hspace">&nbsp;</span><span class="RktInBG"><span class="hspace"></span><span class="RktIn">,</span><span class="hspace"></span></span><span class="hspace">&nbsp;</span><span class="sroman">&#8249;<span style="font-style: italic">LHS-tuple-seq</span>&#8250;</span></p></td></tr><tr><td valign="baseline"><p><span class="hspace">&nbsp;</span></p></td><td valign="baseline"><p><span class="sroman">&#8249;<span style="font-style: italic">LHS-obj-seq</span>&#8250;</span></p></td><td valign="baseline"><p><span class="stt"><span class="hspace">&nbsp;</span>::=<span class="hspace">&nbsp;</span></span></p></td><td valign="baseline"><p></p></td></tr><tr><td valign="baseline"><p><span class="hspace">&nbsp;</span></p></td><td valign="baseline"><p> </p></td><td valign="baseline"><p><span class="stt"><span class="hspace">&nbsp;</span><span class="hspace">&nbsp;</span>|<span class="hspace">&nbsp;</span><span class="hspace">&nbsp;</span></span></p></td><td valign="baseline"><p><span class="RktInBG"><span class="hspace"></span><span class="RktIn">...</span><span class="hspace"></span></span><span class="hspace">&nbsp;</span><span class="sroman">&#8249;<span style="font-style: italic">LHS</span>&#8250;</span></p></td></tr><tr><td valign="baseline"><p><span class="hspace">&nbsp;</span></p></td><td valign="baseline"><p> </p></td><td valign="baseline"><p><span class="stt"><span class="hspace">&nbsp;</span><span class="hspace">&nbsp;</span>|<span class="hspace">&nbsp;</span><span class="hspace">&nbsp;</span></span></p></td><td valign="baseline"><p><span class="sroman">&#8249;<span style="font-style: italic">id</span>&#8250;</span></p></td></tr><tr><td valign="baseline"><p><span class="hspace">&nbsp;</span></p></td><td valign="baseline"><p> </p></td><td valign="baseline"><p><span class="stt"><span class="hspace">&nbsp;</span><span class="hspace">&nbsp;</span>|<span class="hspace">&nbsp;</span><span class="hspace">&nbsp;</span></span></p></td><td valign="baseline"><p><span class="sroman">&#8249;<span style="font-style: italic">id</span>&#8250;</span><span class="hspace">&nbsp;</span><span class="RktInBG"><span class="hspace"></span><span class="RktIn">,</span><span class="hspace"></span></span><span class="hspace">&nbsp;</span><span class="sroman">&#8249;<span style="font-style: italic">LHS-obj-seq</span>&#8250;</span></p></td></tr></table></p><p><code class="highlight-inline"><span class="nx">RHS</span></code> must be compatible with the given <code class="highlight-inline"><span class="nx">LHS</span></code>.
That is, if a <code class="highlight-inline"><span class="nx">LHS</span></code> is an <span class="sroman">&#8249;<span style="font-style: italic">LHS-tuple-seq</span>&#8250;</span>, then the corresponding <code class="highlight-inline"><span class="nx">RHS</span></code> must be a tuple with the correct number of elements.
If a <code class="highlight-inline"><span class="nx">LHS</span></code> is an <span class="sroman">&#8249;<span style="font-style: italic">LHS-obj-seq</span>&#8250;</span>, then the corresponding <code class="highlight-inline"><span class="nx">RHS</span></code> must be an object with the correct fields.</p><p>Those <a href="ref-model.html#%28tech._value%29" class="techoutside" data-pltdoc="x"><span class="techinside">values</span></a> are available as their corresponding <a href="#%28tech._bound._identifier%29" class="techoutside" data-pltdoc="x"><span class="techinside">bound identifier</span></a>s in the statement&rsquo;s <a href="#%28tech._tail%29" class="techoutside" data-pltdoc="x"><span class="techinside">tail</span></a>.</p><p><div class="SIntrapara"><span style="font-weight: bold">&#8212;<wbr></wbr></span></div><div class="SIntrapara"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">randomBool</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span><span class="k">interact</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">;</span> <span class="p">};</span> 
</pre></div>
</div></p><p>A <a name="(tech._function._definition)"></a><span style="font-style: italic">function definition</span>, written <code class="highlight-inline"><span class="kd">function</span> <span class="nx">FUN</span><span class="p">(</span><span class="nx">ARG_0</span><span class="p">,</span> <span class="p">...,</span> <span class="nx">ARG_n</span><span class="p">)</span> <span class="nx">BLOCK</span><span class="p">;</span></code>, defines <code class="highlight-inline"><span class="nx">FUN</span></code> as a function which abstracts its <a name="(tech._function._body)"></a><span style="font-style: italic">function body</span>, the <a href="#%28tech._block%29" class="techoutside" data-pltdoc="x"><span class="techinside">block</span></a> <code class="highlight-inline"><span class="nx">BLOCK</span></code>, over the identifiers <code class="highlight-inline"><span class="nx">ARG_0</span></code> through <code class="highlight-inline"><span class="nx">ARG_n</span></code>.</p><p><span style="font-weight: bold">&#8212;<wbr></wbr></span></p><p>All identifiers in Reach programs must be <a name="(tech._unbound)"></a><span style="font-style: italic">unbound</span>
at the position of the program where they are bound,
i.e., it is <a href="ref-programs-valid.html#%28tech._invalid%29" class="techoutside" data-pltdoc="x"><span class="techinside">invalid</span></a> to shadow identifiers with new definitions.
For example,</p><p><div class="highlight"><pre><span></span><span class="kd">const</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span> 
</pre></div>
</p><p>is <a href="ref-programs-valid.html#%28tech._invalid%29" class="techoutside" data-pltdoc="x"><span class="techinside">invalid</span></a>.
This restriction is independent of whether a binding is
only known to a single <a href="ref-model.html#%28tech._participant%29" class="techoutside" data-pltdoc="x"><span class="techinside">participant</span></a>. For example,</p><p><div class="highlight"><pre><span></span><span class="nx">Alice</span><span class="p">.</span><span class="k">only</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span> <span class="p">});</span>
<span class="nx">Bob</span><span class="p">.</span><span class="k">only</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span> <span class="p">});</span> 
</pre></div>
</p><p>is <a href="ref-programs-valid.html#%28tech._invalid%29" class="techoutside" data-pltdoc="x"><span class="techinside">invalid</span></a>.</p><p>The special identifier <code class="highlight-inline"><span class="nx">_</span></code> is an exception to this rule.
The <code class="highlight-inline"><span class="nx">_</span></code> binding is always considered to be unbound.
This means means that <code class="highlight-inline"><span class="nx">_</span></code> is both
an identifier that can never be read,
as well as an identifier that may be bound many times.
This may be useful for ignoring unwanted values, for example:</p><p><div class="highlight"><pre><span></span><span class="kd">const</span> <span class="p">[</span><span class="nx">_</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">_</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">];</span>
</pre></div>
</p><h5>5.4.6.3.2<tt>&nbsp;</tt><a name="(part._return)"></a><span class="stt">return</span></h5><p><div class="highlight"><pre><span></span><span class="k">return</span> <span class="mi">17</span><span class="p">;</span>
<span class="k">return</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">4</span><span class="p">;</span>
<span class="k">return</span> <span class="nx">f</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="k">return</span><span class="p">;</span> 
</pre></div>
</p><p>A <a name="(tech._return._statement)"></a><span style="font-style: italic">return statement</span>, written <code class="highlight-inline"><span class="k">return</span> <span class="nx">EXPR</span><span class="p">;</span></code>, where <code class="highlight-inline"><span class="nx">EXPR</span></code> is an <a href="#%28tech._expression%29" class="techoutside" data-pltdoc="x"><span class="techinside">expression</span></a> evaluates to the same <a href="ref-model.html#%28tech._value%29" class="techoutside" data-pltdoc="x"><span class="techinside">value</span></a> as <code class="highlight-inline"><span class="nx">EXPR</span></code>.
As a special case, <code class="highlight-inline"><span class="k">return</span><span class="p">;</span></code> is interpreted the same as <code class="highlight-inline"><span class="k">return</span> <span class="kc">null</span><span class="p">;</span></code>.</p><p>A <a href="#%28tech._return._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">return statement</span></a> returns its value to the surrounding function application.</p><p>A <a href="#%28tech._return._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">return statement</span></a> is a <a href="#%28tech._terminator._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">terminator statement</span></a>, so it must have an empty <a href="#%28tech._tail%29" class="techoutside" data-pltdoc="x"><span class="techinside">tail</span></a>. For example,</p><p><div class="highlight"><pre><span></span><span class="p">{</span> <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
  <span class="k">return</span> <span class="mi">2</span><span class="p">;</span> <span class="p">}</span> 
</pre></div>
</p><p>is <a href="ref-programs-valid.html#%28tech._invalid%29" class="techoutside" data-pltdoc="x"><span class="techinside">invalid</span></a>, because the first <code class="highlight-inline"><span class="k">return</span></code>&rsquo;s <a href="#%28tech._tail%29" class="techoutside" data-pltdoc="x"><span class="techinside">tail</span></a> is not empty.</p><h5>5.4.6.3.3<tt>&nbsp;</tt><a name="(part._if)"></a><span class="stt">if</span></h5><p><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">&lt;</span> <span class="mi">3</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s2">&quot;Yes!&quot;</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s2">&quot;No, waaah!&quot;</span><span class="p">;</span> <span class="p">}</span> 
</pre></div>
</p><p>A <a name="(tech._conditional._statement)"></a><span style="font-style: italic">conditional statement</span>,
written <code class="highlight-inline"><span class="k">if</span> <span class="p">(</span><span class="nx">COND</span><span class="p">)</span> <span class="nx">TRUE</span> <span class="k">else</span> <span class="nx">FALSE</span></code>,
where <code class="highlight-inline"><span class="nx">COND</span></code> is an <a href="#%28tech._expression%29" class="techoutside" data-pltdoc="x"><span class="techinside">expression</span></a> which evaluates to a boolean
and <code class="highlight-inline"><span class="nx">TRUE</span></code> and <code class="highlight-inline"><span class="nx">FALSE</span></code> as <a href="#%28tech._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">statements</span></a>
(potentially <a href="#%28tech._block._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">block statements</span></a>),
selects between the <code class="highlight-inline"><span class="nx">TRUE</span></code> <a href="#%28tech._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">statement</span></a> and <code class="highlight-inline"><span class="nx">FALSE</span></code> <a href="#%28tech._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">statement</span></a> based on whether <code class="highlight-inline"><span class="nx">COND</span></code> evaluates to <code class="highlight-inline"><span class="kc">true</span></code>.</p><p>Both <code class="highlight-inline"><span class="nx">TRUE</span></code> and <code class="highlight-inline"><span class="nx">FALSE</span></code> have empty <a href="#%28tech._tail%29" class="techoutside" data-pltdoc="x"><span class="techinside">tails</span></a>, i.e. the <a href="#%28tech._tail%29" class="techoutside" data-pltdoc="x"><span class="techinside">tail</span></a> of the <a href="#%28tech._conditional._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">conditional statement</span></a> is not propagated. For example,</p><p><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span> <span class="nx">x</span> <span class="o">&lt;</span> <span class="nx">y</span> <span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">z</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span> <span class="p">}</span>
<span class="k">else</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">z</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span> <span class="p">}</span>
<span class="k">return</span> <span class="nx">z</span><span class="p">;</span> 
</pre></div>
</p><p>is erroneous, because the identifier <code class="highlight-inline"><span class="nx">z</span></code> is not bound outside the <a href="#%28tech._conditional._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">conditional statement</span></a>.</p><p>A <a href="#%28tech._conditional._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">conditional statement</span></a> may only include a <a href="ref-model.html#%28tech._consensus._transfer%29" class="techoutside" data-pltdoc="x"><span class="techinside">consensus transfer</span></a> in <code class="highlight-inline"><span class="nx">TRUE</span></code> or <code class="highlight-inline"><span class="nx">FALSE</span></code> if it is within a <a href="ref-model.html#%28tech._consensus._step%29" class="techoutside" data-pltdoc="x"><span class="techinside">consensus step</span></a>, because its statements are in the same context as the conditional statement itself.</p><h5>5.4.6.3.4<tt>&nbsp;</tt><a name="(part._.Block_statements)"></a>Block statements</h5><p>A <a name="(tech._block._statement)"></a><span style="font-style: italic">block statement</span> is when a <a href="#%28tech._block%29" class="techoutside" data-pltdoc="x"><span class="techinside">block</span></a> occurs in a <a href="#%28tech._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">statement</span></a> position, then it establishes a local, separate scope for the definitions of identifiers within that <a href="#%28tech._block%29" class="techoutside" data-pltdoc="x"><span class="techinside">block</span></a>. In other words, the <a href="#%28tech._block%29" class="techoutside" data-pltdoc="x"><span class="techinside">block</span></a> is evaluated for effect, but the <a href="#%28tech._tail%29" class="techoutside" data-pltdoc="x"><span class="techinside">tail</span></a> of the <a href="#%28tech._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">statements</span></a> within the <a href="#%28tech._block%29" class="techoutside" data-pltdoc="x"><span class="techinside">block</span></a> are isolated from the surrounding <a href="#%28tech._tail%29" class="techoutside" data-pltdoc="x"><span class="techinside">tail</span></a>. For example,</p><p><div class="highlight"><pre><span></span><span class="kd">const</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
<span class="k">return</span> <span class="nx">x</span><span class="p">;</span> 
</pre></div>
</p><p>evaluates to <code class="highlight-inline"><span class="mi">4</span></code>, but</p><p><div class="highlight"><pre><span></span><span class="p">{</span> <span class="kd">const</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span> <span class="p">}</span>
<span class="k">return</span> <span class="nx">x</span><span class="p">;</span> 
</pre></div>
</p><p>is erroneous, because the identifier <code class="highlight-inline"><span class="nx">x</span></code> is not bound outside the <a href="#%28tech._block._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">block statement</span></a>.</p><h5>5.4.6.3.5<tt>&nbsp;</tt><a name="(part._.Expression_statements)"></a>Expression statements</h5><p><div class="highlight"><pre><span></span><span class="mi">4</span><span class="p">;</span>
<span class="nx">f</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span> 
</pre></div>
</p><p>An <a href="#%28tech._expression%29" class="techoutside" data-pltdoc="x"><span class="techinside">expression</span></a>, <code class="highlight-inline"><span class="nx">E</span></code>, in a <a href="#%28tech._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">statement</span></a> position is equivalent to the <a href="#%28tech._block._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">block statement</span></a> <code class="highlight-inline"><span class="p">{</span> <span class="k">return</span> <span class="nx">E</span><span class="p">;</span> <span class="p">}</span></code>.</p><h5>5.4.6.4<tt>&nbsp;</tt><a name="(part._ref-programs-compute-exprs)"></a>Expressions</h5><p>This section describes the expressions which are allowed in any Reach context.
There are a large variety of different <a name="(tech._expression)"></a><span style="font-style: italic">expressions</span> in Reach programs.</p><p>The remainder of this section enumerates each kind of <a href="#%28tech._expression%29" class="techoutside" data-pltdoc="x"><span class="techinside">expression</span></a>.</p><h5>5.4.6.4.1<tt>&nbsp;</tt><a name="(part._.Identifier_reference)"></a>Identifier reference</h5><p><div class="highlight"><pre><span></span><span class="nx">X</span>
<span class="nx">Y</span>
<span class="nx">Z</span> 
</pre></div>
</p><p>An identifier, written <code class="highlight-inline"><span class="nx">ID</span></code>, is an <a href="#%28tech._expression%29" class="techoutside" data-pltdoc="x"><span class="techinside">expression</span></a> that evaluates to the value of the <a href="#%28tech._bound._identifier%29" class="techoutside" data-pltdoc="x"><span class="techinside">bound identifier</span></a>.</p><h5>5.4.6.4.2<tt>&nbsp;</tt><a name="(part._.Function_application)"></a>Function application</h5><p><div class="highlight"><pre><span></span><span class="k">assert</span><span class="p">(</span> <span class="nx">amount</span> <span class="o">&lt;=</span> <span class="nx">heap1</span> <span class="p">)</span>
<span class="nx">step</span><span class="p">(</span> <span class="nx">moveA</span> <span class="p">)</span>
<span class="nb">digest</span><span class="p">(</span> <span class="nx">coinFlip</span> <span class="p">)</span>
<span class="k">interact</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span>
<span class="k">declassify</span><span class="p">(</span> <span class="nx">_coinFlip</span> <span class="p">)</span> 
</pre></div>
</p><p>A <a name="(tech._function._application)"></a><span style="font-style: italic">function application</span>, written <code class="highlight-inline"><span class="nx">EXPR_rator</span><span class="p">(</span><span class="nx">EXPR_rand_0</span><span class="p">,</span> <span class="p">...,</span> <span class="nx">EXPR_rand_n</span><span class="p">)</span></code>, where <code class="highlight-inline"><span class="nx">EXPR_rator</span></code> and <code class="highlight-inline"><span class="nx">EXPR_rand_0</span></code> through <code class="highlight-inline"><span class="nx">EXPR_rand_n</span></code> are <a href="#%28tech._expression%29" class="techoutside" data-pltdoc="x"><span class="techinside">expressions</span></a> that evaluate to one value.
<code class="highlight-inline"><span class="nx">EXPR_rator</span></code> must evaluate to an abstraction over <code class="highlight-inline"><span class="nx">n</span></code> values or a primitive of arity <code class="highlight-inline"><span class="nx">n</span></code>.
A spread expression (<code class="highlight-inline"><span class="p">...</span><span class="nx">expr</span></code>) may appear in the list of operands to a function application, in which case the elements of the expr are spliced in place.</p><h5>5.4.6.4.3<tt>&nbsp;</tt><a name="(part._.Types)"></a>Types</h5><p>Reach&rsquo;s <a name="(tech._type)"></a><span style="font-style: italic">type</span>s are represented with programs by the following identifiers and constructors:</p><ul><li><p><code class="highlight-inline"><span class="nb">Null</span></code>.</p></li><li><p><code class="highlight-inline"><span class="nb">Bool</span></code>, which denotes a boolean.</p></li><li><p><code class="highlight-inline"><span class="nb">UInt256</span></code>, which denotes an unsigned integer of 256 bits.</p></li><li><p><code class="highlight-inline"><span class="nb">Bytes</span></code>, which denotes a string of bytes.</p></li><li><p><code class="highlight-inline"><span class="nb">Address</span></code>, which denotes an <a href="ref-model.html#%28tech._account%29" class="techoutside" data-pltdoc="x"><span class="techinside">account</span></a> <a href="ref-model.html#%28tech._addres%29" class="techoutside" data-pltdoc="x"><span class="techinside">address</span></a>.</p></li><li><p><code class="highlight-inline"><span class="nb">Fun</span><span class="p">([</span><span class="nx">Domain_0</span><span class="p">,</span> <span class="p">...,</span> <span class="nx">Domain_N</span><span class="p">],</span> <span class="nx">Range</span><span class="p">)</span></code>, which denotes a function type.</p></li><li><p><code class="highlight-inline"><span class="nb">Tuple</span><span class="p">(</span><span class="nx">Field_0</span><span class="p">,</span> <span class="p">...,</span> <span class="nx">FieldN</span><span class="p">)</span></code>, which denotes a tuple.</p></li><li><p><code class="highlight-inline"><span class="nb">Obj</span><span class="p">({</span><span class="nx">key_0</span><span class="o">:</span> <span class="nx">Type_0</span><span class="p">,</span> <span class="p">...,</span> <span class="nx">key_N</span><span class="o">:</span> <span class="nx">Type_N</span><span class="p">})</span></code>, which denotes an object.</p></li><li><p><code class="highlight-inline"><span class="nb">Array</span><span class="p">(</span><span class="nx">ElemenType</span><span class="p">,</span> <span class="nx">size</span><span class="p">)</span></code>, which denotes a statically-sized array.</p></li></ul><p><div class="highlight"><pre><span></span><span class="nb">typeOf</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span>  <span class="c1">// type</span>
<span class="nb">is_type</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span> <span class="c1">// Bool</span>
</pre></div>
</p><p>The <code class="highlight-inline"><span class="nb">typeOf</span></code> primitive function is the same as <code class="highlight-inline"><span class="k">typeof</span></code>:
it returns the type of its argument.
The <code class="highlight-inline"><span class="nb">is_type</span></code> function returns <code class="highlight-inline"><span class="kc">true</span></code> if its argument is a type.
Any expression satisfying <code class="highlight-inline"><span class="nb">is_type</span></code> is compiled away and does not exist at runtime.</p><h5>5.4.6.4.4<tt>&nbsp;</tt><a name="(part._.Literal_values)"></a>Literal values</h5><p><div class="highlight"><pre><span></span><span class="mi">10</span>
<span class="mh">0xdeadbeef</span>
<span class="mi">007</span>
<span class="kc">true</span>
<span class="kc">false</span>
<span class="s2">&quot;reality bytes&quot;</span>
<span class="s1">&#39;it just does&#39;</span> 
</pre></div>
</p><p>A <a name="(tech._literal._value)"></a><span style="font-style: italic">literal value</span>,
written <code class="highlight-inline"><span class="nx">VALUE</span></code>,
is an <a href="#%28tech._expression%29" class="techoutside" data-pltdoc="x"><span class="techinside">expression</span></a> that evaluates to the given <a href="ref-model.html#%28tech._value%29" class="techoutside" data-pltdoc="x"><span class="techinside">value</span></a>.
<a name="(tech._numeric._literal)"></a><span style="font-style: italic">Numeric literal</span>s may be written in decimal, hexadecimal, or octal.
<a name="(tech._boolean._literal)"></a><span style="font-style: italic">Boolean literal</span>s may be written as <code class="highlight-inline"><span class="kc">true</span></code> or <code class="highlight-inline"><span class="kc">false</span></code>.
<a name="(tech._string._literal)"></a><span style="font-style: italic">String literal</span>s (aka byte strings)
may be written between double or single quotes
(with no distinction between the different styles)
and use the same escaping rules as JavaScript.</p><h5>5.4.6.4.5<tt>&nbsp;</tt><a name="(part._.Operator_expression)"></a>Operator expression</h5><p>An <a name="(tech._operator)"></a><span style="font-style: italic">operator</span> is a special identifier,
which is either a <a href="#%28tech._unary._operator%29" class="techoutside" data-pltdoc="x"><span class="techinside">unary operator</span></a>, or a <a href="#%28tech._binary._operator%29" class="techoutside" data-pltdoc="x"><span class="techinside">binary operator</span></a>.</p><p><div class="SIntrapara"><span style="font-weight: bold">&#8212;<wbr></wbr></span></div><div class="SIntrapara"><div class="highlight"><pre><span></span><span class="o">!</span> <span class="nx">a</span>
<span class="o">-</span> <span class="nx">a</span>
<span class="k">typeof</span> <span class="nx">a</span>
</pre></div>
</div></p><p>A <a name="(tech._unary._expression)"></a><span style="font-style: italic">unary expression</span>, written <code class="highlight-inline"><span class="nx">UNAOP</span> <span class="nx">EXPR_rhs</span></code>, where <code class="highlight-inline"><span class="nx">EXPR_rhs</span></code> is an <a href="#%28tech._expression%29" class="techoutside" data-pltdoc="x"><span class="techinside">expression</span></a> and <code class="highlight-inline"><span class="nx">UNAOP</span></code> is one of the <a name="(tech._unary._operator)"></a><span style="font-style: italic">unary operator</span>s: <span class="RktInBG"><span class="hspace"></span><span class="RktIn">! - typeof</span><span class="hspace"></span></span>.</p><p>It is <a href="ref-programs-valid.html#%28tech._invalid%29" class="techoutside" data-pltdoc="x"><span class="techinside">invalid</span></a> to use unary operations on the wrong types of <a href="ref-model.html#%28tech._value%29" class="techoutside" data-pltdoc="x"><span class="techinside">values</span></a>.</p><p><div class="SIntrapara"><span style="font-weight: bold">&#8212;<wbr></wbr></span></div><div class="SIntrapara"><div class="highlight"><pre><span></span><span class="nx">a</span> <span class="o">&amp;&amp;</span> <span class="nx">b</span>
<span class="nx">a</span> <span class="o">||</span> <span class="nx">b</span>
<span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span>
<span class="nx">a</span> <span class="o">-</span> <span class="nx">b</span>
<span class="nx">a</span> <span class="o">*</span> <span class="nx">b</span>
<span class="nx">a</span> <span class="o">/</span> <span class="nx">b</span>
<span class="nx">a</span> <span class="o">%</span> <span class="nx">b</span>
<span class="nx">a</span> <span class="o">|</span> <span class="nx">b</span>
<span class="nx">a</span> <span class="o">&amp;</span> <span class="nx">b</span>
<span class="nx">a</span> <span class="o">^</span> <span class="nx">b</span>
<span class="nx">a</span> <span class="o">&lt;&lt;</span> <span class="nx">b</span>
<span class="nx">a</span> <span class="o">&gt;&gt;</span> <span class="nx">b</span>
<span class="nx">a</span> <span class="o">==</span> <span class="nx">b</span>
<span class="nx">a</span> <span class="o">!=</span> <span class="nx">b</span>
<span class="nx">a</span> <span class="o">===</span> <span class="nx">b</span>
<span class="nx">a</span> <span class="o">!==</span> <span class="nx">b</span>
<span class="nx">a</span> <span class="o">&gt;</span> <span class="nx">b</span>
<span class="nx">a</span> <span class="o">&gt;=</span> <span class="nx">b</span>
<span class="nx">a</span> <span class="o">&lt;=</span> <span class="nx">b</span>
<span class="nx">a</span> <span class="o">&lt;</span> <span class="nx">b</span> 
</pre></div>
</div></p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>Bitwise operations are not supported by all <a href="ref-model.html#%28tech._consensus._network%29" class="techoutside" data-pltdoc="x"><span class="techinside">consensus networks</span></a> and greatly decrease the efficiency of verification.</p></blockquote></blockquote></blockquote><p>A <a name="(tech._binary._expression)"></a><span style="font-style: italic">binary expression</span>, written <code class="highlight-inline"><span class="nx">EXPR_lhs</span> <span class="nx">BINOP</span> <span class="nx">EXPR_rhs</span></code>, where <code class="highlight-inline"><span class="nx">EXPR_lhs</span></code> and <code class="highlight-inline"><span class="nx">EXPR_rhs</span></code> are <a href="#%28tech._expression%29" class="techoutside" data-pltdoc="x"><span class="techinside">expressions</span></a> and <code class="highlight-inline"><span class="nx">BINOP</span></code> is one of the <a name="(tech._binary._operator)"></a><span style="font-style: italic">binary operator</span>s: <span class="RktInBG"><span class="hspace"></span><span class="RktIn">&amp;&amp; || + - * / % | &amp; ^ &lt;&lt; &gt;&gt; == != === !== &gt; &gt;= &lt;= &lt;</span><span class="hspace"></span></span>.
The operators <code class="highlight-inline"><span class="o">==</span></code> and <code class="highlight-inline"><span class="o">!=</span></code> operate on numbers, while the operators <code class="highlight-inline"><span class="o">===</span></code> and <code class="highlight-inline"><span class="o">!==</span></code> operate on byte strings.
Numeric operations, like <code class="highlight-inline"><span class="o">+</span></code> and <code class="highlight-inline"><span class="o">&gt;</span></code>, only operate on numbers.
Since all numbers in Reach are integers, operations like <code class="highlight-inline"><span class="err">/</span></code> truncate their result.
Boolean operations, like <code class="highlight-inline"><span class="o">&amp;&amp;</span></code>, only operate on booleans.
It is <a href="ref-programs-valid.html#%28tech._invalid%29" class="techoutside" data-pltdoc="x"><span class="techinside">invalid</span></a> to use binary operations on the wrong types of <a href="ref-model.html#%28tech._value%29" class="techoutside" data-pltdoc="x"><span class="techinside">values</span></a>.</p><p><div class="highlight"><pre><span></span><span class="nb">and</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span>  <span class="c1">// &amp;&amp;</span>
<span class="nb">or</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span>   <span class="c1">// ||</span>
<span class="nb">add</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span>  <span class="c1">// +</span>
<span class="nb">sub</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span>  <span class="c1">// -</span>
<span class="nb">mul</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span>  <span class="c1">// *</span>
<span class="nb">div</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span>  <span class="c1">// /</span>
<span class="nb">mod</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span>  <span class="c1">// %</span>
<span class="nb">lt</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span>   <span class="c1">// &lt;</span>
<span class="nb">le</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span>   <span class="c1">// &lt;=</span>
<span class="nb">ge</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span>   <span class="c1">// &gt;=</span>
<span class="nb">gt</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span>   <span class="c1">// &gt;</span>
<span class="nb">lsh</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span>  <span class="c1">// &lt;&lt;</span>
<span class="nb">rsh</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span>  <span class="c1">// &gt;&gt;</span>
<span class="nb">band</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="c1">// &amp;</span>
<span class="nb">bior</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="c1">// |</span>
<span class="nb">bxor</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="c1">// ^</span>
<span class="nb">eq</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span>   <span class="c1">// ==, ===</span>
<span class="nb">neq</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span>  <span class="c1">// !=, !==</span>
</pre></div>
</p><p>All <a href="#%28tech._binary._expression%29" class="techoutside" data-pltdoc="x"><span class="techinside">binary expression</span></a> operators have a corresponidng named function in the standard library.
Note that while <code class="highlight-inline"><span class="o">&amp;&amp;</span></code> and <code class="highlight-inline"><span class="o">||</span></code> may not evaluate their second argument,
their corresponding named functions <code class="highlight-inline"><span class="nb">and</span></code> and <code class="highlight-inline"><span class="nb">or</span></code>, always do.</p><p><div class="highlight"><pre><span></span><span class="nb">poly_eq</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span>  <span class="c1">// eq on Bool, Bytes, types, or UInt256</span>
<span class="nx">bool_eq</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span>  <span class="c1">// eq on Bool</span>
<span class="nb">bytes_eq</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="c1">// eq on Bytes</span>
<span class="nb">type_eq</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span>  <span class="c1">// eq on types</span>
<span class="nb">int_eq</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span>   <span class="c1">// eq on UInt256</span>
</pre></div>
</p><p>Note that <code class="highlight-inline"><span class="o">==</span></code> is a function which operates on multiple types.
Both arguments must be of the same type.
Specialized functions exist for equality checking on each supported type.</p><h5>5.4.6.4.6<tt>&nbsp;</tt><a name="(part._.Parenthesized_expression)"></a>Parenthesized expression</h5><p><div class="highlight"><pre><span></span><span class="p">(</span><span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">)</span> <span class="o">-</span> <span class="nx">c</span> 
</pre></div>
</p><p>An <a href="#%28tech._expression%29" class="techoutside" data-pltdoc="x"><span class="techinside">expression</span></a> may be parenthesized, as in <code class="highlight-inline"><span class="p">(</span><span class="nx">EXPR</span><span class="p">)</span></code>.</p><h5>5.4.6.4.7<tt>&nbsp;</tt><a name="(part._.Tuples)"></a>Tuples</h5><p><div class="highlight"><pre><span></span><span class="p">[</span> <span class="p">]</span>
<span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span> <span class="o">*</span> <span class="mi">5</span> <span class="p">]</span> 
</pre></div>
</p><p>A <a name="(tech._tuple)"></a><span style="font-style: italic">tuple</span> literal, written <code class="highlight-inline"><span class="p">[</span> <span class="nx">EXPR_0</span><span class="p">,</span> <span class="p">...,</span> <span class="nx">EXPR_n</span> <span class="p">]</span></code>, is an <a href="#%28tech._expression%29" class="techoutside" data-pltdoc="x"><span class="techinside">expression</span></a> which evaluates to a tuple of <code class="highlight-inline"><span class="nx">n</span></code> values, where <code class="highlight-inline"><span class="nx">EXPR_0</span></code> through <code class="highlight-inline"><span class="nx">EXPR_n</span></code> are <a href="#%28tech._expression%29" class="techoutside" data-pltdoc="x"><span class="techinside">expressions</span></a>.</p><p><code class="highlight-inline"><span class="p">...</span><span class="nx">expr</span></code> may appear inside tuple expressions, in which case the spreaded expression must evaluate to a tuple or array, which is spliced in place.</p><h5>5.4.6.4.8<tt>&nbsp;</tt><a name="(part._array)"></a><span class="stt">array</span></h5><p><div class="highlight"><pre><span></span><span class="kd">const</span> <span class="nx">x</span> <span class="o">=</span> <span class="nb">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]);</span> 
</pre></div>
</p><p><a name="(idx._(gentag._7))"></a> Converts a <a href="#%28tech._tuple%29" class="techoutside" data-pltdoc="x"><span class="techinside">tuple</span></a> of homogenueous values into an <a name="(tech._array)"></a><span style="font-style: italic">array</span>.</p><h5>5.4.6.4.9<tt>&nbsp;</tt><a name="(part._.Element_reference)"></a>Element reference</h5><p><div class="highlight"><pre><span></span><span class="nx">arr</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> 
</pre></div>
</p><p>A <a name="(tech._reference)"></a><span style="font-style: italic">reference</span>, written <code class="highlight-inline"><span class="nx">REF_EXPR</span><span class="p">[</span><span class="nx">IDX_EXPR</span><span class="p">]</span></code>,
where <code class="highlight-inline"><span class="nx">REF_EXPR</span></code> is an <a href="#%28tech._expression%29" class="techoutside" data-pltdoc="x"><span class="techinside">expression</span></a> that evaluates to an <a href="#%28tech._array%29" class="techoutside" data-pltdoc="x"><span class="techinside">array</span></a> or a <a href="#%28tech._tuple%29" class="techoutside" data-pltdoc="x"><span class="techinside">tuple</span></a>
and <code class="highlight-inline"><span class="nx">IDX_EXPR</span></code> is an <a href="#%28tech._expression%29" class="techoutside" data-pltdoc="x"><span class="techinside">expression</span></a> that evaluates to a natural number which is less than the size of the array,
selects the element at the given index of the array.
Indices start at zero.</p><h5>5.4.6.4.10<tt>&nbsp;</tt><a name="(part._tuple_set__array_set__and__set)"></a><span class="stt">tuple_set</span>, <span class="stt">array_set</span>, and <span class="stt">.set</span></h5><p><div class="highlight"><pre><span></span><span class="nx">tuple_set</span><span class="p">(</span><span class="nx">tup</span><span class="p">,</span> <span class="nx">idx</span><span class="p">,</span> <span class="nx">val</span><span class="p">);</span>
<span class="nx">tup</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">idx</span><span class="p">,</span> <span class="nx">val</span><span class="p">);</span>
<span class="nb">array_set</span><span class="p">(</span><span class="nx">arr</span><span class="p">,</span> <span class="nx">idx</span><span class="p">,</span> <span class="nx">val</span><span class="p">);</span>
<span class="nx">arr</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">idx</span><span class="p">,</span> <span class="nx">val</span><span class="p">);</span> 
</pre></div>
</p><p><a name="(idx._(gentag._8))"></a> Returns a new tuple identical to <code class="highlight-inline"><span class="nx">tup</span></code>,
except that index <code class="highlight-inline"><span class="nx">idx</span></code> is replaced with <code class="highlight-inline"><span class="nx">val</span></code>.</p><p><a name="(idx._(gentag._9))"></a> Returns a new array identical to <code class="highlight-inline"><span class="nx">arr</span></code>, except that index <code class="highlight-inline"><span class="nx">idx</span></code> is replaced with <code class="highlight-inline"><span class="nx">val</span></code>.</p><p>Both may be abbreviated as <code class="highlight-inline"><span class="nx">expr</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">idx</span><span class="p">,</span> <span class="nx">val</span><span class="p">)</span></code> where <code class="highlight-inline"><span class="nx">expr</span></code> evaluates to a tuple or an array.</p><h5>5.4.6.4.11<tt>&nbsp;</tt><a name="(part._.Objects)"></a>Objects</h5><p><div class="highlight"><pre><span></span><span class="p">{</span> <span class="p">}</span>
<span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;yo-yo&quot;</span><span class="o">:</span> <span class="mi">4</span> <span class="p">}</span>
</pre></div>
</p><p>An <a name="(tech._object._literal)"></a><span style="font-style: italic">object literal</span>,
typically written <code class="highlight-inline"><span class="p">{</span> <span class="nx">KEY_0</span><span class="o">:</span> <span class="nx">EXPR_0</span><span class="p">,</span> <span class="p">...,</span> <span class="nx">KEY_n</span><span class="o">:</span> <span class="nx">EXPR_n</span> <span class="p">}</span></code>,
where <code class="highlight-inline"><span class="nx">KEY_0</span></code> through <code class="highlight-inline"><span class="nx">KEY_n</span></code> are <a href="#%28tech._identifier%29" class="techoutside" data-pltdoc="x"><span class="techinside">identifiers</span></a> or <a href="#%28tech._string._literal%29" class="techoutside" data-pltdoc="x"><span class="techinside">string literal</span></a>s
and <code class="highlight-inline"><span class="nx">EXPR_0</span></code> through <code class="highlight-inline"><span class="nx">EXPR_n</span></code> are <a href="#%28tech._expression%29" class="techoutside" data-pltdoc="x"><span class="techinside">expressions</span></a>,
is an <a href="#%28tech._expression%29" class="techoutside" data-pltdoc="x"><span class="techinside">expression</span></a> which evaluates to an object
with fields <code class="highlight-inline"><span class="nx">KEY_0</span></code> through <code class="highlight-inline"><span class="nx">KEY_n</span></code>.</p><p>Additional object literal syntax exists for convenience, such as:</p><p><div class="highlight"><pre><span></span><span class="p">{</span> <span class="p">...</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">z</span><span class="o">:</span> <span class="mi">5</span> <span class="p">}</span>
</pre></div>
</p><p>An <a name="(tech._object._splice)"></a><span style="font-style: italic">object splice</span>,
where all fields from <code class="highlight-inline"><span class="nx">obj</span></code> are copied into the object;
these fields may be accompanied by additional fields specified afterwards.</p><p><div class="highlight"><pre><span></span><span class="p">{</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">z</span><span class="o">:</span> <span class="mi">5</span> <span class="p">}</span>
</pre></div>
</p><p>Shorthand for <code class="highlight-inline"><span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">z</span><span class="o">:</span> <span class="mi">5</span><span class="p">}</span></code>, where <code class="highlight-inline"><span class="nx">x</span></code> is any <a href="#%28tech._bound._identifier%29" class="techoutside" data-pltdoc="x"><span class="techinside">bound identifier</span></a>.</p><h5>5.4.6.4.12<tt>&nbsp;</tt><a name="(part._.Field_reference)"></a>Field reference</h5><p><div class="highlight"><pre><span></span><span class="nx">obj</span><span class="p">.</span><span class="nx">x</span>
</pre></div>
</p><p>An <a name="(tech._object._reference)"></a><span style="font-style: italic">object reference</span>,
written <code class="highlight-inline"><span class="nx">OBJ</span><span class="p">.</span><span class="nx">FIELD</span></code>,
where <code class="highlight-inline"><span class="nx">OBJ</span></code> is an expression of type object,
and <code class="highlight-inline"><span class="nx">FIELD</span></code> is a <a href="ref-programs-valid.html#%28tech._valid%29" class="techoutside" data-pltdoc="x"><span class="techinside">valid</span></a> <a href="#%28tech._identifier%29" class="techoutside" data-pltdoc="x"><span class="techinside">identifier</span></a>,
accesses the FIELD field of object OBJ.</p><h5>5.4.6.4.13<tt>&nbsp;</tt><a name="(part._object_set)"></a><span class="stt">object_set</span></h5><p><div class="highlight"><pre><span></span><span class="nx">object_set</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">fld</span><span class="p">,</span> <span class="nx">val</span><span class="p">);</span>
<span class="p">{</span> <span class="p">...</span><span class="nx">obj</span><span class="p">,</span> <span class="p">[</span><span class="nx">fld</span><span class="p">]</span><span class="o">:</span> <span class="nx">val</span> <span class="p">};</span>
</pre></div>
</p><p><a name="(idx._(gentag._10))"></a> Returns a new object identical to <code class="highlight-inline"><span class="nx">obj</span></code>,
except that field <code class="highlight-inline"><span class="nx">fld</span></code> is replaced with <code class="highlight-inline"><span class="nx">val</span></code>.</p><h5>5.4.6.4.14<tt>&nbsp;</tt><a name="(part._.Conditional_expression)"></a>Conditional expression</h5><p><div class="highlight"><pre><span></span><span class="nx">choosesFirst</span> <span class="o">?</span> <span class="p">[</span> <span class="nx">heap1</span> <span class="o">-</span> <span class="nx">amount</span><span class="p">,</span> <span class="nx">heap2</span> <span class="p">]</span> <span class="o">:</span> <span class="p">[</span> <span class="nx">heap1</span><span class="p">,</span> <span class="nx">heap2</span> <span class="o">-</span> <span class="nx">amount</span> <span class="p">]</span> 
</pre></div>
</p><p>A <a name="(tech._conditional._expression)"></a><span style="font-style: italic">conditional expression</span>, written <code class="highlight-inline"><span class="nx">COND_E</span> <span class="o">?</span> <span class="nx">TRUE_E</span> <span class="o">:</span> <span class="nx">FALSE_E</span></code>, where <code class="highlight-inline"><span class="nx">COND_E</span></code>, <code class="highlight-inline"><span class="nx">TRUE_E</span></code>, and <code class="highlight-inline"><span class="nx">FALSE_E</span></code> are <a href="#%28tech._expression%29" class="techoutside" data-pltdoc="x"><span class="techinside">expressions</span></a>, selects between the <a href="ref-model.html#%28tech._value%29" class="techoutside" data-pltdoc="x"><span class="techinside">values</span></a> which <code class="highlight-inline"><span class="nx">TRUE_E</span></code> and <code class="highlight-inline"><span class="nx">FALSE_E</span></code> evaluate to based on whether <code class="highlight-inline"><span class="nx">COND_E</span></code> evaluates to <code class="highlight-inline"><span class="kc">true</span></code>.</p><p><div class="highlight"><pre><span></span><span class="nb">ite</span><span class="p">(</span><span class="nx">choosesFirst</span><span class="p">,</span> <span class="p">[</span><span class="nx">heap1</span> <span class="o">-</span> <span class="nx">amount</span><span class="p">,</span> <span class="nx">heap2</span><span class="p">],</span> <span class="p">[</span><span class="nx">heap1</span><span class="p">,</span> <span class="nx">heap2</span> <span class="o">-</span> <span class="nx">amount</span><span class="p">])</span>
</pre></div>
</p><p><a href="#%28tech._conditional._expression%29" class="techoutside" data-pltdoc="x"><span class="techinside">Conditional expression</span></a>s may also be written with the <code class="highlight-inline"><span class="nb">ite</span></code> function,
however, note that this function always evaluates both of its branches,
while the regular conditional expression only evaluates one branch.</p><h5>5.4.6.4.15<tt>&nbsp;</tt><a name="(part._.Arrow_expression)"></a>Arrow expression</h5><p><div class="highlight"><pre><span></span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="mi">4</span><span class="p">)</span>
<span class="p">((</span><span class="nx">x</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="p">((</span><span class="nx">x</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="kd">const</span> <span class="nx">y</span> <span class="o">=</span> <span class="nx">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
          <span class="k">return</span> <span class="nx">y</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="p">})</span> 
</pre></div>
</p><p>An <a name="(tech._arrow._expression)"></a><span style="font-style: italic">arrow expression</span>, written <code class="highlight-inline"><span class="p">(</span><span class="nx">ID_0</span><span class="p">,</span> <span class="p">...,</span> <span class="nx">ID_n</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">EXPR</span></code>, where <code class="highlight-inline"><span class="nx">ID_0</span></code> through <code class="highlight-inline"><span class="nx">ID_n</span></code> are identifiers and <code class="highlight-inline"><span class="nx">EXPR</span></code> is an <a href="#%28tech._expression%29" class="techoutside" data-pltdoc="x"><span class="techinside">expression</span></a>, evaluates to an function which is an abstraction of <code class="highlight-inline"><span class="nx">EXPR</span></code> over <code class="highlight-inline"><span class="nx">n</span></code> values.</p><h5>5.4.6.4.16<tt>&nbsp;</tt><a name="(part._make.Enum)"></a><span class="stt">makeEnum</span></h5><p><div class="highlight"><pre><span></span><span class="kd">const</span> <span class="p">[</span> <span class="nx">isHand</span><span class="p">,</span> <span class="nx">ROCK</span><span class="p">,</span> <span class="nx">PAPER</span><span class="p">,</span> <span class="nx">SCISSORS</span> <span class="p">]</span> <span class="o">=</span> <span class="nb">makeEnum</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span> 
</pre></div>
</p><p>An <a name="(tech._enumeration)"></a><span style="font-style: italic">enumeration</span> (or <a name="(tech._enum)"></a><span style="font-style: italic">enum</span>, for short),
can be created by calling the <code class="highlight-inline"><span class="nb">makeEnum</span></code> function, as in <code class="highlight-inline"><span class="nb">makeEnum</span><span class="p">(</span><span class="nx">N</span><span class="p">)</span></code>,
where <code class="highlight-inline"><span class="nx">N</span></code> is the number of distinct values in the enum.
This produces a tuple of <code class="highlight-inline"><span class="nx">N</span><span class="o">+</span><span class="mi">1</span></code> values,
where the first value is a <code class="highlight-inline"><span class="nb">Fun</span><span class="p">([</span><span class="nb">UInt256</span><span class="p">],</span> <span class="nb">Bool</span><span class="p">)</span></code>
which tells you if its argument is one of the enum&rsquo;s values,
and the next N values are distinct <code class="highlight-inline"><span class="nb">UInt256</span></code>s.</p><h5>5.4.6.4.17<tt>&nbsp;</tt><a name="(part._assert)"></a><span class="stt">assert</span></h5><p><div class="highlight"><pre><span></span><span class="k">assert</span><span class="p">(</span> <span class="nx">claim</span> <span class="p">)</span> 
</pre></div>
</p><p><div class="SIntrapara"><a name="(idx._(gentag._11))"></a> A <a href="ref-model.html#%28tech._static._assertion%29" class="techoutside" data-pltdoc="x"><span class="techinside">static assertion</span></a> which is only <a href="ref-programs-valid.html#%28tech._valid%29" class="techoutside" data-pltdoc="x"><span class="techinside">valid</span></a> if <code class="highlight-inline"><span class="nx">claim</span></code> always evaluates to <code class="highlight-inline"><span class="kc">true</span></code>.
</div><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>The Reach compiler will produce a counter-example (i.e. an assignment of the identifiers in the program to falsify the <code class="highlight-inline"><span class="nx">claim</span></code>) when an <a href="ref-programs-valid.html#%28tech._invalid%29" class="techoutside" data-pltdoc="x"><span class="techinside">invalid</span></a> <code class="highlight-inline"><span class="nx">claim</span></code> is provided.
It is possible to write a <code class="highlight-inline"><span class="nx">claim</span></code> that actually always evaluates to <code class="highlight-inline"><span class="kc">true</span></code>, but for which our current approach cannot prove always evaluates to <code class="highlight-inline"><span class="kc">true</span></code>; if this is the case, Reach will fail to compile the program, reporting that its analysis is incomplete.
Reach will never produce an erroneous counter-example.</p></blockquote></blockquote></blockquote></div></p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>See <a href="guide-assert.html" data-pltdoc="x">the guide section on verification</a> to better understand how and what to verify in your program.</p></blockquote></blockquote></blockquote><h5>5.4.6.4.18<tt>&nbsp;</tt><a name="(part._forall)"></a><span class="stt">forall</span></h5><p><div class="highlight"><pre><span></span><span class="k">forall</span><span class="p">(</span> <span class="nx">Type</span> <span class="p">)</span>
<span class="k">forall</span><span class="p">(</span> <span class="nx">Type</span><span class="p">,</span> <span class="p">(</span><span class="kd">var</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">BLOCK</span> <span class="p">)</span> 
</pre></div>
</p><p><a name="(idx._(gentag._12))"></a> The single argument version returns an abstract value of the given type.
It may only be referenced inside of <a href="ref-model.html#%28tech._assert%29" class="techoutside" data-pltdoc="x"><span class="techinside">assert</span></a>ions; any other reference is invalid.</p><p>The two argument version is an abbreviation of calling the second argument with the result of <code class="highlight-inline"><span class="k">forall</span><span class="p">(</span><span class="nx">Type</span><span class="p">)</span></code>.
This is convenient for writing general claims about expressions, such as</p><p><div class="highlight"><pre><span></span><span class="k">forall</span><span class="p">(</span><span class="nb">UInt256</span><span class="p">,</span> <span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="k">assert</span><span class="p">(</span><span class="nx">x</span> <span class="o">==</span> <span class="nx">x</span><span class="p">));</span> 
</pre></div>
</p><h5>5.4.6.4.19<tt>&nbsp;</tt><a name="(part._possible)"></a><span class="stt">possible</span></h5><p><div class="highlight"><pre><span></span><span class="k">possible</span><span class="p">(</span> <span class="nx">claim</span> <span class="p">)</span> 
</pre></div>
</p><p><a name="(idx._(gentag._13))"></a> A <a href="ref-model.html#%28tech._possibility._assertion%29" class="techoutside" data-pltdoc="x"><span class="techinside">possibility assertion</span></a> which is only <a href="ref-programs-valid.html#%28tech._valid%29" class="techoutside" data-pltdoc="x"><span class="techinside">valid</span></a> if it is possible for <code class="highlight-inline"><span class="nx">claim</span></code> to evaluate to <code class="highlight-inline"><span class="kc">true</span></code> with <a href="ref-model.html#%28tech._honest%29" class="techoutside" data-pltdoc="x"><span class="techinside">honest</span></a> <a href="ref-model.html#%28tech._frontend%29" class="techoutside" data-pltdoc="x"><span class="techinside">frontends</span></a> and <a href="ref-model.html#%28tech._participant%29" class="techoutside" data-pltdoc="x"><span class="techinside">participants</span></a>.</p><h5>5.4.6.4.20<tt>&nbsp;</tt><a name="(part._digest)"></a><span class="stt">digest</span></h5><p><div class="highlight"><pre><span></span><span class="nb">digest</span><span class="p">(</span> <span class="nx">arg_0</span><span class="p">,</span> <span class="p">...,</span> <span class="nx">arg_n</span> <span class="p">)</span> 
</pre></div>
</p><p>The <a href="ref-model.html#%28tech._digest%29" class="techoutside" data-pltdoc="x"><span class="techinside">digest</span></a> primitive performs a <a href="https://en.wikipedia.org/wiki/Cryptographic_hash_function">cryptographic hash</a> of the binary encoding of the given arguments, using the Keccak256 algorithm.</p><h5>5.4.6.4.21<tt>&nbsp;</tt><a name="(part._balance)"></a><span class="stt">balance</span></h5><p><div class="highlight"><pre><span></span><span class="nb">balance</span><span class="p">()</span> 
</pre></div>
</p><p>The <a name="(tech._balance)"></a><span style="font-style: italic">balance</span> primitive returns the balance of the <a href="ref-model.html#%28tech._contract%29" class="techoutside" data-pltdoc="x"><span class="techinside">contract</span></a> <a href="ref-model.html#%28tech._account%29" class="techoutside" data-pltdoc="x"><span class="techinside">account</span></a> for the <a href="ref-model.html#%28tech._dapp%29" class="techoutside" data-pltdoc="x"><span class="techinside">DApp</span></a>.</p><h5>5.4.6.4.22<tt>&nbsp;</tt><a name="(part._implies)"></a><span class="stt">implies</span></h5><p><div class="highlight"><pre><span></span><span class="nb">implies</span><span class="p">(</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span> <span class="p">)</span> 
</pre></div>
</p><p><a name="(idx._(gentag._14))"></a> Returns <code class="highlight-inline"><span class="kc">true</span></code> if <code class="highlight-inline"><span class="nx">x</span></code> is <code class="highlight-inline"><span class="kc">false</span></code> or <code class="highlight-inline"><span class="nx">y</span></code> is <code class="highlight-inline"><span class="kc">true</span></code>.</p><h5>5.4.6.4.23<tt>&nbsp;</tt><a name="(part._ensure)"></a><span class="stt">ensure</span></h5><p><div class="highlight"><pre><span></span><span class="nb">ensure</span><span class="p">(</span> <span class="nx">pred</span><span class="p">,</span> <span class="nx">x</span> <span class="p">)</span> 
</pre></div>
</p><p><a name="(idx._(gentag._15))"></a> Makes a <a href="ref-model.html#%28tech._static._assertion%29" class="techoutside" data-pltdoc="x"><span class="techinside">static assertion</span></a> that <code class="highlight-inline"><span class="nx">pred</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span></code> is <code class="highlight-inline"><span class="kc">true</span></code> and returns <code class="highlight-inline"><span class="nx">x</span></code>.</p><h5>5.4.6.4.24<tt>&nbsp;</tt><a name="(part._has.Random)"></a><span class="stt">hasRandom</span></h5><p><div class="highlight"><pre><span></span><span class="nb">hasRandom</span> 
</pre></div>
</p><p><a name="(idx._(gentag._16))"></a> A <a href="ref-programs-module.html#%28tech._participant._interact._interface%29" class="techoutside" data-pltdoc="x"><span class="techinside">participant interact interface</span></a> which specifies <span class="RktInBG"><span class="hspace"></span><span class="RktIn">random</span><span class="hspace"></span></span> as a function that takes no arguments are returns an unsigined integer of 256 bits.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="ref-programs-consensus.html" title="backward to &quot;5.4.5 Consensus Steps&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="ref-programs.html" title="up to &quot;5.4 Programs&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="ref-networks.html" title="forward to &quot;5.5 Consensus Network Connectors&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>