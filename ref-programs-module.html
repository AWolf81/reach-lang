<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-149147406-2"></script><script>window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-149147406-2');</script><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js"></script><script src="tooltips.js"></script><script src="reach-pre.js"></script><link rel="stylesheet" href="tooltips.css"><link rel="stylesheet" href="reach.css"><link rel="stylesheet" href="minted.css"><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>5.4.2&nbsp;Modules</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Reach:<span class="mywbr"> &nbsp;</span> The Safest and Easiest DApp Programming Language</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="overview.html" class="tocviewlink" data-pltdoc="x">Overview</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="tut.html" class="tocviewlink" data-pltdoc="x">Tutorial</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="guide.html" class="tocviewlink" data-pltdoc="x">Guide</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="workshop.html" class="tocviewlink" data-pltdoc="x">Workshop</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="ref.html" class="tocviewselflink" data-pltdoc="x">Reference</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" data-pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>5&nbsp;</td><td><a href="ref.html" class="tocviewlink" data-pltdoc="x">Reference</a></td></tr></table><div class="tocviewsublist" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">5.1&nbsp;</td><td><a href="install.html" class="tocviewlink" data-pltdoc="x">Installation</a></td></tr><tr><td align="right">5.2&nbsp;</td><td><a href="ref-usage.html" class="tocviewlink" data-pltdoc="x">Usage</a></td></tr><tr><td align="right">5.3&nbsp;</td><td><a href="ref-model.html" class="tocviewlink" data-pltdoc="x">Language Model</a></td></tr><tr><td align="right">5.4&nbsp;</td><td><a href="ref-programs.html" class="tocviewselflink" data-pltdoc="x">Programs</a></td></tr><tr><td align="right">5.5&nbsp;</td><td><a href="ref-networks.html" class="tocviewlink" data-pltdoc="x">Consensus Network Connectors</a></td></tr><tr><td align="right">5.6&nbsp;</td><td><a href="ref-backends.html" class="tocviewlink" data-pltdoc="x">Participant Backends</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">&#9660;</a></td><td>5.4&nbsp;</td><td><a href="ref-programs.html" class="tocviewlink" data-pltdoc="x">Programs</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tr><td align="right">5.4.1&nbsp;</td><td><a href="ref-programs-valid.html" class="tocviewlink" data-pltdoc="x">Validity</a></td></tr><tr><td align="right">5.4.2&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Modules</a></td></tr><tr><td align="right">5.4.3&nbsp;</td><td><a href="ref-programs-step.html" class="tocviewlink" data-pltdoc="x">Steps</a></td></tr><tr><td align="right">5.4.4&nbsp;</td><td><a href="ref-programs-local.html" class="tocviewlink" data-pltdoc="x">Local Steps</a></td></tr><tr><td align="right">5.4.5&nbsp;</td><td><a href="ref-programs-consensus.html" class="tocviewlink" data-pltdoc="x">Consensus Steps</a></td></tr><tr><td align="right">5.4.6&nbsp;</td><td><a href="ref-programs-compute.html" class="tocviewlink" data-pltdoc="x">Computations</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_3&quot;);">&#9658;</a></td><td>5.4.2&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Modules</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_3"><table cellspacing="0" cellpadding="0"><tr><td align="right">5.4.2.1&nbsp;</td><td><a href="#%28part._ref-programs-module-stmts%29" class="tocviewlink" data-pltdoc="x">Statements</a></td></tr><tr><td align="right">5.4.2.2&nbsp;</td><td><a href="#%28part._ref-programs-module-exprs%29" class="tocviewlink" data-pltdoc="x">Expressions</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">5.4.2.1<tt>&nbsp;</tt></span><a href="#%28part._ref-programs-module-stmts%29" class="tocsubseclink" data-pltdoc="x">Statements</a></td></tr><tr><td><span class="tocsublinknumber">5.4.2.1.1<tt>&nbsp;</tt></span><a href="#%28part._ref-programs-export%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">export</span></a></td></tr><tr><td><a href="#%28reach._%28%28export%29%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">export</span></a></td></tr><tr><td><span class="tocsublinknumber">5.4.2.1.2<tt>&nbsp;</tt></span><a href="#%28part._ref-programs-import%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">import</span></a></td></tr><tr><td><a href="#%28reach._%28%28import%29%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">import</span></a></td></tr><tr><td><a href="#%28reach._%28%28from%29%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">from</span></a></td></tr><tr><td><span class="tocsublinknumber">5.4.2.2<tt>&nbsp;</tt></span><a href="#%28part._ref-programs-module-exprs%29" class="tocsubseclink" data-pltdoc="x">Expressions</a></td></tr><tr><td><span class="tocsublinknumber">5.4.2.2.1<tt>&nbsp;</tt></span><a href="#%28part._ref-programs-reach..app%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">Reach.App</span></a></td></tr><tr><td><a href="#%28reach._%28%28.Reach%29%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">Reach</span></a></td></tr><tr><td><a href="#%28reach._%28%28.App%29%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">App</span></a></td></tr><tr><td><a href="#%28reach._%28%28deploy.Mode%29%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">deploy<span class="mywbr"> &nbsp;</span>Mode</span></a></td></tr><tr><td><a href="#%28reach._%28%28verify.Overflow%29%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">verify<span class="mywbr"> &nbsp;</span>Overflow</span></a></td></tr><tr><td><a href="#%28reach._%28%28connectors%29%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">connectors</span></a></td></tr><tr><td><a href="#%28reach._%28%28.E.T.H%29%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">ETH</span></a></td></tr><tr><td><a href="#%28reach._%28%28.A.L.G.O%29%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">ALGO</span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="ref-programs-valid.html" title="backward to &quot;5.4.1 Validity&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="ref-programs.html" title="up to &quot;5.4 Programs&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="ref-programs-step.html" title="forward to &quot;5.4.3 Steps&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h5>5.4.2<tt>&nbsp;</tt><a name="(part._ref-programs-module)"></a>Modules</h5><p>A Reach <a name="(tech._source._file)"></a><span style="font-style: italic">source file</span> is a textual file which specifies a Reach <a href="#%28tech._module%29" class="techoutside" data-pltdoc="x"><span class="techinside">module</span></a>.
It is traditionally given the file extension <span class="RktInBG"><span class="hspace"></span><span class="RktIn">rsh</span><span class="hspace"></span></span>,
e.g. <span class="stt">"dao.rsh"</span>.</p><p><div class="SIntrapara">A <a name="(tech._module)"></a><span style="font-style: italic">module</span> starts with <code class="highlight"><span class="s1">&#39;reach 0.1&#39;</span><span class="p">;</span></code>
followed by a sequence of <a href="#%28tech._import%29" class="techoutside" data-pltdoc="x"><span class="techinside">imports</span></a> and <a href="ref-programs-compute.html#%28tech._identifier._definition%29" class="techoutside" data-pltdoc="x"><span class="techinside">identifier definitions</span></a>.
A module can only be compiled or used if it contain one or more <a href="#%28tech._export%29" class="techoutside" data-pltdoc="x"><span class="techinside">exports</span></a>.
</div><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>See <a href="guide-versions.html" data-pltdoc="x">the guide section on versions</a> to understand how Reach uses version numbers like this.</p></blockquote></blockquote></blockquote></div></p><h5>5.4.2.1<tt>&nbsp;</tt><a name="(part._ref-programs-module-stmts)"></a>Statements</h5><p>Any statements valid for a <a href="ref-programs-compute.html#%28part._ref-programs-compute-stmts%29" data-pltdoc="x">computation</a> are valid for a module.
However, some additional statements are allowed.</p><h5>5.4.2.1.1<tt>&nbsp;</tt><a name="(part._ref-programs-export)"></a><span class="stt">export</span></h5><p>Module-level <a href="ref-programs-compute.html#%28tech._identifier._definition%29" class="techoutside" data-pltdoc="x"><span class="techinside">identifier definitions</span></a> may be <a name="(tech._export)"></a><span style="font-style: italic">export</span>ed
by writing  <code class="highlight"><a name="(reach._((export)))"></a><a name="(idx._(gentag._0))"></a><span class="kd">export</span></code> in front of them.
For example,
<div class="highlight"><pre><span></span><a href="#%28reach._%28%28export%29%29%29" class="kd" data-pltdoc="x">export</a> <a href="ref-programs-compute.html#%28reach._%28%28const%29%29%29" class="kd" data-pltdoc="x">const</a> <font class="badlink"><span class="nx">x</span></font> <font class="badlink"><span class="o">=</span></font> <span class="mi">1</span><span class="p">;</span>
<a href="#%28reach._%28%28export%29%29%29" class="kd" data-pltdoc="x">export</a> <a href="ref-programs-compute.html#%28reach._%28%28const%29%29%29" class="kd" data-pltdoc="x">const</a> <span class="p">[</span><font class="badlink"><span class="nx">a</span></font><span class="p">,</span> <font class="badlink"><span class="nx">b</span></font><span class="p">,</span> <span class="p">...</span><font class="badlink"><span class="nx">more</span></font><span class="p">]</span> <font class="badlink"><span class="o">=</span></font> <span class="p">[</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span> <span class="p">];</span>
<a href="#%28reach._%28%28export%29%29%29" class="kd" data-pltdoc="x">export</a> <a href="ref-programs-compute.html#%28reach._%28%28function%29%29%29" class="kd" data-pltdoc="x">function</a> <font class="badlink"><span class="nx">add1</span></font><span class="p">(</span><font class="badlink"><span class="nx">x</span></font><span class="p">)</span> <span class="p">{</span> <a href="ref-programs-compute.html#%28reach._%28%28return%29%29%29" class="k" data-pltdoc="x">return</a> <font class="badlink"><span class="nx">x</span></font> <a href="ref-programs-compute.html#%28reach._%28%28%2B%29%29%29" class="o" data-pltdoc="x">+</a> <span class="mi">1</span><span class="p">;</span> <span class="p">};</span>
</pre></div>
are valid <a href="#%28tech._export%29" class="techoutside" data-pltdoc="x"><span class="techinside">exports</span></a>.</p><p>Module-level identifiers may also be <a href="#%28tech._export%29" class="techoutside" data-pltdoc="x"><span class="techinside">export</span></a>ed after the fact,
and may be renamed during export. For example:</p><p><div class="highlight"><pre><span></span><a href="ref-programs-compute.html#%28reach._%28%28const%29%29%29" class="kd" data-pltdoc="x">const</a> <font class="badlink"><span class="nx">w</span></font> <font class="badlink"><span class="o">=</span></font> <span class="mi">2</span><span class="p">;</span>
<a href="ref-programs-compute.html#%28reach._%28%28const%29%29%29" class="kd" data-pltdoc="x">const</a> <font class="badlink"><span class="nx">z</span></font> <font class="badlink"><span class="o">=</span></font> <span class="mi">0</span><span class="p">;</span>
<a href="#%28reach._%28%28export%29%29%29" class="kd" data-pltdoc="x">export</a> <span class="p">{</span><font class="badlink"><span class="nx">w</span></font><span class="p">,</span> <font class="badlink"><span class="nx">z</span></font> <font class="badlink"><span class="kd">as</span></font> <font class="badlink"><span class="nx">zero</span></font><span class="p">};</span>
</pre></div></p><p>Identifiers from other modules may be re-exported (and renamed),
even if they are not imported in the current module.
For example:</p><p><div class="highlight"><pre><span></span><a href="#%28reach._%28%28export%29%29%29" class="kd" data-pltdoc="x">export</a> <span class="p">{</span><font class="badlink"><span class="nx">u</span></font><span class="p">,</span> <font class="badlink"><span class="nx">x</span></font> <font class="badlink"><span class="kd">as</span></font> <font class="badlink"><span class="nx">other_x</span></font><span class="p">}</span> <a href="#%28reach._%28%28from%29%29%29" class="kd" data-pltdoc="x">from</a> <span class="s1">&#39;./other-module.rsh&#39;</span><span class="p">;</span>
</pre></div></p><p>An <a href="#%28tech._export%29" class="techoutside" data-pltdoc="x"><span class="techinside">export</span></a>ed identifier in a given <a href="#%28tech._module%29" class="techoutside" data-pltdoc="x"><span class="techinside">module</span></a> may be <a href="#%28tech._import%29" class="techoutside" data-pltdoc="x"><span class="techinside">import</span></a>ed by other <a href="#%28tech._module%29" class="techoutside" data-pltdoc="x"><span class="techinside">modules</span></a>.</p><h5>5.4.2.1.2<tt>&nbsp;</tt><a name="(part._ref-programs-import)"></a><span class="stt">import</span></h5><p><div class="highlight"><pre><span></span><a name="(reach._((import)))"></a><a name="(idx._(gentag._1))"></a><span class="kd">import</span> <span class="s1">&#39;games-of-chance.rsh&#39;</span><span class="p">;</span>
</pre></div></p><p>When a <a href="#%28tech._module%29" class="techoutside" data-pltdoc="x"><span class="techinside">module</span></a>, <span class="RktInBG"><span class="hspace"></span><span class="RktIn">X</span><span class="hspace"></span></span>, contains an <a name="(tech._import)"></a><span style="font-style: italic">import</span>,
written <code class="highlight"><a href="#%28reach._%28%28import%29%29%29" class="kd" data-pltdoc="x">import</a> <span class="s2">"LIB.rsh"</span><span class="p">;</span></code>,
then the path <span class="stt">"LIB.rsh"</span> must resolve to another Reach <a href="#%28tech._source._file%29" class="techoutside" data-pltdoc="x"><span class="techinside">source file</span></a>.
The <a href="#%28tech._export%29" class="techoutside" data-pltdoc="x"><span class="techinside">exports</span></a> from the <a href="#%28tech._module%29" class="techoutside" data-pltdoc="x"><span class="techinside">module</span></a> defined by <span class="stt">"LIB.rsh"</span> are included in the set of <a href="ref-programs-compute.html#%28tech._bound._identifier%29" class="techoutside" data-pltdoc="x"><span class="techinside">bound identifier</span></a>s in <span class="RktInBG"><span class="hspace"></span><span class="RktIn">X</span><span class="hspace"></span></span>.</p><p><div class="highlight"><pre><span></span><a href="#%28reach._%28%28import%29%29%29" class="kd" data-pltdoc="x">import</a> <span class="p">{</span><font class="badlink"><span class="nx">flipCoin</span></font><span class="p">,</span> <font class="badlink"><span class="nx">rollDice</span></font> <font class="badlink"><span class="kd">as</span></font> <font class="badlink"><span class="nx">d6</span></font><span class="p">}</span> <a name="(reach._((from)))"></a><a name="(idx._(gentag._2))"></a><span class="kd">from</span> <span class="s1">&#39;games-of-chance.rsh&#39;</span><span class="p">;</span>
</pre></div></p><p>Import statements may limit or rename the imported <a href="ref-programs-compute.html#%28tech._identifier%29" class="techoutside" data-pltdoc="x"><span class="techinside">identifiers</span></a>.</p><p><div class="highlight"><pre><span></span><a href="#%28reach._%28%28import%29%29%29" class="kd" data-pltdoc="x">import</a> <a href="ref-programs-compute.html#%28reach._%28%28%2A%29%29%29" class="o" data-pltdoc="x">*</a> <font class="badlink"><span class="kd">as</span></font> <font class="badlink"><span class="nx">gamesOfChance</span></font> <a href="#%28reach._%28%28from%29%29%29" class="kd" data-pltdoc="x">from</a> <span class="s1">&#39;games-of-chance.rsh&#39;</span><span class="p">;</span>
</pre></div></p><p>Imports may instead bind the entire <a href="#%28tech._module%29" class="techoutside" data-pltdoc="x"><span class="techinside">module</span></a> to a single <a href="ref-programs-compute.html#%28tech._identifier%29" class="techoutside" data-pltdoc="x"><span class="techinside">identifier</span></a>,
which is an <a href="ref-programs-compute.html#%28tech._object%29" class="techoutside" data-pltdoc="x"><span class="techinside">object</span></a> with <a href="ref-programs-compute.html#%28tech._field%29" class="techoutside" data-pltdoc="x"><span class="techinside">fields</span></a> corresponding to that <a href="#%28tech._module%29" class="techoutside" data-pltdoc="x"><span class="techinside">module</span></a>&rsquo;s <a href="#%28tech._export%29" class="techoutside" data-pltdoc="x"><span class="techinside">exports</span></a>.</p><p><a href="#%28tech._import%29" class="techoutside" data-pltdoc="x"><span class="techinside">Import</span></a> cycles are <a href="ref-programs-valid.html#%28tech._invalid%29" class="techoutside" data-pltdoc="x"><span class="techinside">invalid</span></a>.</p><p>The path given to an <a href="#%28tech._import%29" class="techoutside" data-pltdoc="x"><span class="techinside">import</span></a> may <span style="font-weight: bold">not</span> include <span class="RktInBG"><span class="hspace"></span><span class="RktIn">..</span><span class="hspace"></span></span> to specify files outside the current directory <span style="font-weight: bold">nor</span> may it be an absolute path.</p><p>It <span style="font-weight: bold">must</span> be a relative path, which is resolved relative to the parent directory of the <a href="#%28tech._source._file%29" class="techoutside" data-pltdoc="x"><span class="techinside">source file</span></a> in which they appear.</p><h5>5.4.2.2<tt>&nbsp;</tt><a name="(part._ref-programs-module-exprs)"></a>Expressions</h5><p>Any expressions valid for a <a href="ref-programs-compute.html#%28part._ref-programs-compute-exprs%29" data-pltdoc="x">computation</a> are valid for a module.
However, some additional expressions are allowed.</p><h5>5.4.2.2.1<tt>&nbsp;</tt><a name="(part._ref-programs-reach..app)"></a><span class="stt">Reach.App</span></h5><p><div class="highlight"><pre><span></span><a href="#%28reach._%28%28export%29%29%29" class="kd" data-pltdoc="x">export</a> <a href="ref-programs-compute.html#%28reach._%28%28const%29%29%29" class="kd" data-pltdoc="x">const</a> <font class="badlink"><span class="nx">main</span></font> <font class="badlink"><span class="o">=</span></font>
  <a name="(reach._((.Reach)))"></a><a name="(idx._(gentag._3))"></a><span class="nb">Reach</span><span class="p">.</span><a name="(reach._((.App)))"></a><a name="(idx._(gentag._4))"></a><span class="nb">App</span><span class="p">({},</span> <span class="p">[[</span><span class="s2">"A"</span><span class="p">,</span> <span class="p">{</span><font class="badlink"><span class="nx">displayResult</span></font><font class="badlink"><span class="o">:</span></font> <a href="ref-programs-compute.html#%28reach._%28%28.Fun%29%29%29" class="nb" data-pltdoc="x">Fun</a><span class="p">(</span><font class="badlink"><span class="nx">Int</span></font><span class="p">,</span> <a href="ref-programs-compute.html#%28reach._%28%28.Null%29%29%29" class="nb" data-pltdoc="x">Null</a><span class="p">)}]],</span> <span class="p">(</span><font class="badlink"><span class="nx">A</span></font><span class="p">)</span> <a href="ref-programs-compute.html#%28reach._%28%28~3d._~3e%29%29%29" class="o" data-pltdoc="x">=&gt;</a> <span class="p">{</span>
    <a href="ref-programs-compute.html#%28reach._%28%28const%29%29%29" class="kd" data-pltdoc="x">const</a> <font class="badlink"><span class="nx">result</span></font> <font class="badlink"><span class="o">=</span></font> <span class="mi">0</span><span class="p">;</span>
    <font class="badlink"><span class="nx">A</span></font><span class="p">.</span><a href="ref-programs-step.html#%28reach._%28%28only%29%29%29" class="k" data-pltdoc="x">only</a><span class="p">(()</span> <a href="ref-programs-compute.html#%28reach._%28%28~3d._~3e%29%29%29" class="o" data-pltdoc="x">=&gt;</a> <span class="p">{</span> <a href="ref-programs-local.html#%28reach._%28%28interact%29%29%29" class="k" data-pltdoc="x">interact</a><span class="p">.</span><font class="badlink"><span class="nx">displayResult</span></font><span class="p">(</span><font class="badlink"><span class="nx">result</span></font><span class="p">);</span> <span class="p">})</span>
    <a href="ref-programs-compute.html#%28reach._%28%28return%29%29%29" class="k" data-pltdoc="x">return</a> <font class="badlink"><span class="nx">result</span></font><span class="p">;</span>
  <span class="p">});</span>
</pre></div></p><p><a name="(tech._reach..app)"></a><span style="font-style: italic">Reach.App</span> is a function which accepts three arguments:
<code class="highlight"><font class="badlink"><span class="nx">options</span></font></code>,
<code class="highlight"><font class="badlink"><span class="nx">participantDefinitions</span></font></code>,
and <code class="highlight"><font class="badlink"><span class="nx">program</span></font></code>.</p><p>The <code class="highlight"><font class="badlink"><span class="nx">options</span></font></code> must be an object.
It supports the following options:</p><p><table cellspacing="0" cellpadding="0" class="boxed"><tr><td><p><code class="highlight"><a name="(reach._((deploy.Mode)))"></a><a name="(idx._(gentag._5))"></a><span class="nb">deployMode</span></code></p></td><td><p>&#160;</p></td><td><p><code class="highlight"><span class="s1">&#39;constructor&#39;</span></code> (default) or <code class="highlight"><span class="s1">&#39;firstMsg&#39;</span></code></p></td><td><p>&#160;</p></td><td><p>Determines whether <a href="ref-model.html#%28tech._contract%29" class="techoutside" data-pltdoc="x"><span class="techinside">contract</span></a> should be <a href="ref-model.html#%28tech._deploy%29" class="techoutside" data-pltdoc="x"><span class="techinside">deploy</span></a>ed independently (<code class="highlight"><span class="s1">&#39;constructor&#39;</span></code>) or as part of the first <a href="ref-model.html#%28tech._publication%29" class="techoutside" data-pltdoc="x"><span class="techinside">publication</span></a> (<code class="highlight"><span class="s1">&#39;firstMsg&#39;</span></code>).
If deployed as part of the first publication, then the first publication must precede all uses of <code class="highlight"><a href="ref-programs-step.html#%28reach._%28%28wait%29%29%29" class="nx" data-pltdoc="x">wait</a></code> and <code class="highlight"><span class="p">.</span><a href="ref-programs-step.html#%28reach._%28%28timeout%29%29%29" class="k" data-pltdoc="x">timeout</a></code>.
See <a href="guide-deploymode.html" data-pltdoc="x">the guide on deployment modes</a> for a discussion of why to choose a particular mode.</p></td></tr><tr><td><p><code class="highlight"><a name="(reach._((verify.Overflow)))"></a><a name="(idx._(gentag._6))"></a><span class="nx">verifyOverflow</span></code></p></td><td><p>&#160;</p></td><td><p><code class="highlight"><a href="ref-programs-compute.html#%28reach._%28%28true%29%29%29" class="kc" data-pltdoc="x">true</a></code> or <code class="highlight"><a href="ref-programs-compute.html#%28reach._%28%28false%29%29%29" class="kc" data-pltdoc="x">false</a></code> (default)</p></td><td><p>&#160;</p></td><td><p>Determines whether arithmetic operations automatically introduce static assertions that they do not overflow beyond the bit-width of the underlying <a href="ref-model.html#%28tech._consensus._network%29" class="techoutside" data-pltdoc="x"><span class="techinside">consensus network</span></a>.
This defaults to <code class="highlight"><a href="ref-programs-compute.html#%28reach._%28%28false%29%29%29" class="kc" data-pltdoc="x">false</a></code>, because it is onerous to verify, increasing verification times by an order of magnitude.
We recommend turning it on before final deployment, but leaving it off during development.
When it is <code class="highlight"><a href="ref-programs-compute.html#%28reach._%28%28false%29%29%29" class="kc" data-pltdoc="x">false</a></code>, <a href="ref-model.html#%28tech._connector%29" class="techoutside" data-pltdoc="x"><span class="techinside">connectors</span></a> will ensure that overflows do not actually occur on the network.</p></td></tr><tr><td><p><code class="highlight"><a name="(reach._((connectors)))"></a><a name="(idx._(gentag._7))"></a><span class="nx">connectors</span></code></p></td><td><p>&#160;</p></td><td><p><code class="highlight"><span class="p">[</span><a name="(reach._((.E.T.H)))"></a><a name="(idx._(gentag._8))"></a><span class="nx">ETH</span><span class="p">,</span> <a name="(reach._((.A.L.G.O)))"></a><a name="(idx._(gentag._9))"></a><span class="nx">ALGO</span><span class="p">]</span></code> (default)</p></td><td><p>&#160;</p></td><td><p>A tuple of the <a href="ref-model.html#%28tech._connector%29" class="techoutside" data-pltdoc="x"><span class="techinside">connectors</span></a> that the application should be compiled for.
By default, all available <a href="ref-model.html#%28tech._connector%29" class="techoutside" data-pltdoc="x"><span class="techinside">connectors</span></a> are chosen.</p></td></tr></table></p><p>The <code class="highlight"><font class="badlink"><span class="nx">participantDefinitions</span></font></code> argument is an tuple of tuples.
Each tuple is a pair of
<code class="highlight"><font class="badlink"><span class="nx">participantName</span></font></code>
and <code class="highlight"><font class="badlink"><span class="nx">participantInteractInterface</span></font></code>.
<code class="highlight"><font class="badlink"><span class="nx">participantName</span></font></code> is a string which indicates the name of the participant function in the generated <a href="ref-model.html#%28tech._backend%29" class="techoutside" data-pltdoc="x"><span class="techinside">backend</span></a> code. Each <code class="highlight"><font class="badlink"><span class="nx">participantName</span></font></code> must be unique.
<code class="highlight"><font class="badlink"><span class="nx">participantInteractInterface</span></font></code> is a <a name="(tech._participant._interact._interface)"></a><span style="font-style: italic">participant interact interface</span>, an object where each field indicates the type of a function or value which must be provided to the <a href="ref-model.html#%28tech._backend%29" class="techoutside" data-pltdoc="x"><span class="techinside">backend</span></a> by the <a href="ref-model.html#%28tech._frontend%29" class="techoutside" data-pltdoc="x"><span class="techinside">frontend</span></a> for <a href="ref-model.html#%28tech._interact%29" class="techoutside" data-pltdoc="x"><span class="techinside">interact</span></a>ing with the participant.</p><p>The <code class="highlight"><font class="badlink"><span class="nx">program</span></font></code> argument must be a syntactic <a href="ref-programs-compute.html#%28tech._arrow._expression%29" class="techoutside" data-pltdoc="x"><span class="techinside">arrow expression</span></a>.
The arguments to this arrow must match the number and order of <code class="highlight"><font class="badlink"><span class="nx">participantDefinitions</span></font></code>.
The function body is the program to be <a href="ref-model.html#%28tech._compile%29" class="techoutside" data-pltdoc="x"><span class="techinside">compile</span></a>d.
It specifies a <a href="ref-model.html#%28tech._step%29" class="techoutside" data-pltdoc="x"><span class="techinside">step</span></a>, which means its content is specified by <a href="ref-programs-step.html" data-pltdoc="x">Steps</a>.</p><p>If the result of <code class="highlight"><a href="#%28reach._%28%28.Reach%29%29%29" class="nb" data-pltdoc="x">Reach</a><span class="p">.</span><a href="#%28reach._%28%28.App%29%29%29" class="nb" data-pltdoc="x">App</a></code> is eventually bound to an identifier that is <a href="#%28tech._export%29" class="techoutside" data-pltdoc="x"><span class="techinside">export</span></a>ed, then it may be a target given to the compiler, as discussed in <a href="ref-usage.html#%28part._ref-usage-compile%29" data-pltdoc="x">the section on usage</a>.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="ref-programs-valid.html" title="backward to &quot;5.4.1 Validity&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="ref-programs.html" title="up to &quot;5.4 Programs&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="ref-programs-step.html" title="forward to &quot;5.4.3 Steps&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div><script src="reach-post.js"></script></body></html>