<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-149147406-2"></script><script>window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-149147406-2');</script><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js"></script><script src="tooltips.js"></script><script src="reach-pre.js"></script><link rel="stylesheet" href="tooltips.css"><link rel="stylesheet" href="reach.css"><link rel="stylesheet" href="minted.css"><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"><link rel="manifest" href="/favicon/site.webmanifest"><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>3.8&nbsp;How and what to verify</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Reach:<span class="mywbr"> &nbsp;</span> The Safest and Easiest DApp Programming Language</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="overview.html" class="tocviewlink" data-pltdoc="x">Overview</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="tut.html" class="tocviewlink" data-pltdoc="x">Tutorial</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="guide.html" class="tocviewselflink" data-pltdoc="x">Guide</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="workshop.html" class="tocviewlink" data-pltdoc="x">Workshop</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="ref.html" class="tocviewlink" data-pltdoc="x">Reference</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" data-pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>3&nbsp;</td><td><a href="guide.html" class="tocviewlink" data-pltdoc="x">Guide</a></td></tr></table><div class="tocviewsublistbottom" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">3.1&nbsp;</td><td><a href="guide-windows.html" class="tocviewlink" data-pltdoc="x">Using Reach on Windows</a></td></tr><tr><td align="right">3.2&nbsp;</td><td><a href="guide-versions.html" class="tocviewlink" data-pltdoc="x">How does Reach use version numbers?</a></td></tr><tr><td align="right">3.3&nbsp;</td><td><a href="guide-solidity.html" class="tocviewlink" data-pltdoc="x">How does Reach development compare to Solidity development?</a></td></tr><tr><td align="right">3.4&nbsp;</td><td><a href="guide-rpc.html" class="tocviewlink" data-pltdoc="x">Do I have to use Java<span class="mywbr"> &nbsp;</span>Script to write my frontend? What about Python, Go, or other languages?</a></td></tr><tr><td align="right">3.5&nbsp;</td><td><a href="guide-logging.html" class="tocviewlink" data-pltdoc="x">How do I add tracing logs to my Reach program?</a></td></tr><tr><td align="right">3.6&nbsp;</td><td><a href="guide-nntoks.html" class="tocviewlink" data-pltdoc="x">How do network and non-<wbr></wbr>network tokens differ?</a></td></tr><tr><td align="right">3.7&nbsp;</td><td><a href="guide-ctransfers.html" class="tocviewlink" data-pltdoc="x">What do the different kinds of consensus transfers mean? <span class="stt">publish</span>, <span class="stt">pay</span>, <span class="stt">race</span>, <span class="stt">fork</span>, <span class="stt">parallel<span class="mywbr"> &nbsp;</span>Reduce</span>?</a></td></tr><tr><td align="right">3.8&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">How and what to verify</a></td></tr><tr><td align="right">3.9&nbsp;</td><td><a href="guide-loop-invs.html" class="tocviewlink" data-pltdoc="x">Finding and using loop invariants</a></td></tr><tr><td align="right">3.10&nbsp;</td><td><a href="guide-timeout.html" class="tocviewlink" data-pltdoc="x">Non-<wbr></wbr>participation:<span class="mywbr"> &nbsp;</span> What it is and how to protect against it</a></td></tr><tr><td align="right">3.11&nbsp;</td><td><a href="guide-determ.html" class="tocviewlink" data-pltdoc="x">Determinism, simultaneity, and choice in decentralized applications</a></td></tr><tr><td align="right">3.12&nbsp;</td><td><a href="guide-race.html" class="tocviewlink" data-pltdoc="x">Racing non-<wbr></wbr>determinism in decentralized applications</a></td></tr><tr><td align="right">3.13&nbsp;</td><td><a href="guide-abstract.html" class="tocviewlink" data-pltdoc="x">Building decentralized abstractions</a></td></tr><tr><td align="right">3.14&nbsp;</td><td><a href="guide-ganache.html" class="tocviewlink" data-pltdoc="x">How to use Ganache with Reach</a></td></tr><tr><td align="right">3.15&nbsp;</td><td><a href="guide-editor-support.html" class="tocviewlink" data-pltdoc="x">IDE/<span class="mywbr"> &nbsp;</span>Text Editor Support</a></td></tr><tr><td align="right">3.16&nbsp;</td><td><a href="guide-packages.html" class="tocviewlink" data-pltdoc="x">Sharing and discovering shared Reach packages</a></td></tr><tr><td align="right">3.17&nbsp;</td><td><a href="guide-reach.html" class="tocviewlink" data-pltdoc="x">How does Reach work?</a></td></tr><tr><td align="right">3.18&nbsp;</td><td><a href="guide-limits.html" class="tocviewlink" data-pltdoc="x">What are Reach&rsquo;s limitations?</a></td></tr><tr><td align="right">3.19&nbsp;</td><td><a href="guide-roadmap.html" class="tocviewlink" data-pltdoc="x">Reach&rsquo;s Roadmap</a></td></tr><tr><td align="right">3.20&nbsp;</td><td><a href="guide-changelog.html" class="tocviewlink" data-pltdoc="x">Reach&rsquo;s Changelog</a></td></tr></table></div></div></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">0.1.6</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search docs..." title="Enter a search string to search the Reach documentation" onkeypress="return reach_DoSearch(event, this);"></form>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="guide-ctransfers.html" title="backward to &quot;3.7 What do the different kinds of consensus transfers mean? publish, pay, race, fork, parallelReduce?&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="guide.html" title="up to &quot;3 Guide&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="guide-loop-invs.html" title="forward to &quot;3.9 Finding and using loop invariants&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>3.8<tt>&nbsp;</tt><a name="(part._guide-assert)"></a>How and what to verify</h4><p>Reach&rsquo;s verification engine ensures that invariants about the state of a program assumed by programmers are held by all possible executions of the program.</p><p>At a high-level, the goal of a programmer getting started with verification is to write down <span class="emph">every single assumption they have</span> into the program in the form of <code class="highlight"><a href="ref-programs-compute.html#%28reach._%28%28assert%29%29%29" class="k" data-pltdoc="x">assert</a></code> statements.
For example, if a value, <code class="highlight"><font class="badlink"><span class="nx">x</span></font></code> is assumed to be smaller than 20, then the programmer should always include <code class="highlight"><a href="ref-programs-compute.html#%28reach._%28%28assert%29%29%29" class="k" data-pltdoc="x">assert</a><span class="p">(</span><font class="badlink"><span class="nx">x</span></font> <a href="ref-programs-compute.html#%28reach._%28%28~3c%29%29%29" class="o" data-pltdoc="x">&lt;</a> <span class="mi">20</span><span class="p">);</span></code> in the program.
This is not to help the verification engine prove later properties, but is to give the verification engine assumptions that it can attempt to falsify so the programmer can learn if their assumptions are correct.</p><p>At a low-level, the programmer should see the verification engine as a tool to prevent test regressions by encoding tests directly into the program in the form of assertions.
For example, suppose that during development and testing, a programmer observes an erroneous state where the variable <code class="highlight"><font class="badlink"><span class="nx">y</span></font></code> is assigned to the value <code class="highlight"><span class="mi">41</span></code>, then the programmer should insert <code class="highlight"><a href="ref-programs-compute.html#%28reach._%28%28assert%29%29%29" class="k" data-pltdoc="x">assert</a><span class="p">(</span><font class="badlink"><span class="nx">y</span></font> <a href="ref-programs-compute.html#%28reach._%28%28%21~3d%29%29%29" class="o" data-pltdoc="x">!=</a> <span class="mi">41</span><span class="p">);</span></code> into the program.
The programmer should insert this check <span class="emph">before</span> they fix the problem in the code.
This will ensure that all future versions of the program will also be protected from these problems.</p><p>These high- and low-level perspectives on assertions apply to individual code fragments, like the body of an <code class="highlight"><a href="ref-programs-step.html#%28reach._%28%28only%29%29%29" class="k" data-pltdoc="x">only</a></code> statement, as well as entire functions.
For example, if a programmer expects a unary function over integers, <code class="highlight"><font class="badlink"><span class="nx">f</span></font></code>, to always return a number between <code class="highlight"><span class="mi">0</span></code> and <code class="highlight"><span class="mi">50</span></code>, then they should write <code class="highlight"><a href="ref-programs-compute.html#%28reach._%28%28assert%29%29%29" class="k" data-pltdoc="x">assert</a><span class="p">(</span><font class="badlink"><span class="nx">f</span></font><span class="p">(</span><a href="ref-programs-compute.html#%28reach._%28%28forall%29%29%29" class="k" data-pltdoc="x">forall</a><span class="p">(</span><a href="ref-programs-compute.html#%28reach._%28%28.U.Int%29%29%29" class="nb" data-pltdoc="x">UInt</a><span class="p">))</span> <a href="ref-programs-compute.html#%28reach._%28%28~3c._~3d%29%29%29" class="o" data-pltdoc="x">&lt;=</a> <span class="mi">50</span><span class="p">);</span></code> in their program.
Similarly, the unit tests for a function that a developer would normally write in a test suite, should instead be written as a series of assertions in the module that defines a function.</p><p>If you&rsquo;d like to continue learning about verification, we recommend reading about <a href="https://duckduckgo.com/?q=property-based+testing">"property-based testing"</a>.
Although most resources on the topic will refer to dynamic, random tools, like <a href="https://en.wikipedia.org/wiki/QuickCheck">QuickCheck</a>, the strategies used transfer automatically to a formally verified context, like Reach.</p><p>If you&rsquo;d like to continue reading about verification in Reach specifically, read <a href="guide-loop-invs.html" data-pltdoc="x">the guide section on loop invariants</a>.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search docs..." title="Enter a search string to search the Reach documentation" onkeypress="return reach_DoSearch(event, this);"></form>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="guide-ctransfers.html" title="backward to &quot;3.7 What do the different kinds of consensus transfers mean? publish, pay, race, fork, parallelReduce?&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="guide.html" title="up to &quot;3 Guide&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="guide-loop-invs.html" title="forward to &quot;3.9 Finding and using loop invariants&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div><script src="reach-post.js"></script></body></html>