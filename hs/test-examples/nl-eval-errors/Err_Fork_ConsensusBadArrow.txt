fork expanded to:
JSConstant
  (JSAnnot (TokenPn 95 8 11) [])
  (JSLOne
     (JSVarInitExpression
        (JSIdentifier (JSAnnot (TokenPn 95 8 11) []) ".fork0.data")
        (JSVarInit
           (JSAnnot (TokenPn 95 8 11) [])
           (JSCallExpression
              (JSIdentifier (JSAnnot (TokenPn 95 8 11) []) "Data")
              (JSAnnot (TokenPn 95 8 11) [])
              (JSLOne
                 (JSObjectLiteral
                    (JSAnnot (TokenPn 95 8 11) [])
                    (JSCTLNone
                       (JSLCons
                          JSLNil
                          JSNoAnnot
                          (JSPropertyNameandValue
                             (JSPropertyIdent (JSAnnot (TokenPn 95 8 11) []) "A")
                             (JSAnnot (TokenPn 95 8 11) [])
                             [ JSIdentifier JSNoAnnot "Null" ])))
                    (JSAnnot (TokenPn 95 8 11) [])))
              (JSAnnot (TokenPn 95 8 11) [])))))
  (JSSemi (JSAnnot (TokenPn 95 8 11) []))
JSMethodCall
  (JSMemberDot
     (JSIdentifier (JSAnnot (TokenPn 110 9 13) []) "A")
     (JSAnnot (TokenPn 95 8 11) [])
     (JSIdentifier (JSAnnot (TokenPn 95 8 11) []) "only"))
  (JSAnnot (TokenPn 95 8 11) [])
  (JSLOne
     (JSArrowExpression
        (JSParenthesizedArrowParameterList
           (JSAnnot (TokenPn 95 8 11) [])
           JSLNil
           (JSAnnot (TokenPn 95 8 11) []))
        (JSAnnot (TokenPn 95 8 11) [])
        (JSStatementBlock
           (JSAnnot (TokenPn 95 8 11) [])
           [ JSConstant
               (JSAnnot (TokenPn 95 8 11) [])
               (JSLOne
                  (JSVarInitExpression
                     (JSIdentifier (JSAnnot (TokenPn 95 8 11) []) ".fork0.res")
                     (JSVarInit
                        (JSAnnot (TokenPn 95 8 11) [])
                        (JSCallExpression
                           (JSExpressionParen
                              (JSAnnot (TokenPn 113 9 16) [ WhiteSpace (TokenPn 112 9 15) " " ])
                              (JSArrowExpression
                                 (JSParenthesizedArrowParameterList
                                    (JSAnnot (TokenPn 114 9 17) [])
                                    JSLNil
                                    (JSAnnot (TokenPn 115 9 18) []))
                                 (JSAnnot (TokenPn 117 9 20) [ WhiteSpace (TokenPn 116 9 19) " " ])
                                 (JSExpressionStatement
                                    (JSExpressionParen
                                       (JSAnnot
                                          (TokenPn 120 9 23) [ WhiteSpace (TokenPn 119 9 22) " " ])
                                       (JSObjectLiteral
                                          (JSAnnot (TokenPn 121 9 24) [])
                                          (JSCTLNone JSLNil)
                                          (JSAnnot
                                             (TokenPn 131 10 9)
                                             [ WhiteSpace (TokenPn 122 9 25) "\n        " ]))
                                       (JSAnnot (TokenPn 132 10 10) []))
                                    JSSemiAuto))
                              (JSAnnot (TokenPn 133 10 11) []))
                           (JSAnnot (TokenPn 95 8 11) [])
                           JSLNil
                           (JSAnnot (TokenPn 95 8 11) [])))))
               (JSSemi (JSAnnot (TokenPn 95 8 11) []))
           , JSConstant
               (JSAnnot (TokenPn 95 8 11) [])
               (JSLOne
                  (JSVarInitExpression
                     (JSIdentifier (JSAnnot (TokenPn 95 8 11) []) ".fork0.msg")
                     (JSVarInit
                        (JSAnnot (TokenPn 95 8 11) [])
                        (JSCallExpression
                           (JSMemberDot
                              (JSIdentifier (JSAnnot (TokenPn 95 8 11) []) ".fork0.data")
                              (JSAnnot (TokenPn 95 8 11) [])
                              (JSIdentifier (JSAnnot (TokenPn 95 8 11) []) "A"))
                           (JSAnnot (TokenPn 95 8 11) [])
                           (JSLOne (JSLiteral (JSAnnot (TokenPn 95 8 11) []) "null"))
                           (JSAnnot (TokenPn 95 8 11) [])))))
               (JSSemi (JSAnnot (TokenPn 95 8 11) []))
           , JSConstant
               (JSAnnot (TokenPn 95 8 11) [])
               (JSLOne
                  (JSVarInitExpression
                     (JSIdentifier (JSAnnot (TokenPn 95 8 11) []) ".fork0.when")
                     (JSVarInit
                        (JSAnnot (TokenPn 95 8 11) [])
                        (JSLiteral (JSAnnot (TokenPn 95 8 11) []) "true"))))
               (JSSemi (JSAnnot (TokenPn 95 8 11) []))
           ]
           (JSAnnot (TokenPn 95 8 11) [])
           (JSSemi (JSAnnot (TokenPn 95 8 11) [])))))
  (JSAnnot (TokenPn 95 8 11) [])
  (JSSemi (JSAnnot (TokenPn 95 8 11) []))
JSExpressionStatement
  (JSCallExpression
     (JSMemberDot
        (JSCallExpression
           (JSMemberDot
              (JSCallExpression
                 (JSMemberDot
                    (JSCallExpression
                       (JSIdentifier (JSAnnot (TokenPn 95 8 11) []) "race")
                       (JSAnnot (TokenPn 95 8 11) [])
                       (JSLCons
                          JSLNil
                          JSNoAnnot
                          (JSIdentifier (JSAnnot (TokenPn 110 9 13) []) "A"))
                       (JSAnnot (TokenPn 95 8 11) []))
                    (JSAnnot (TokenPn 95 8 11) [])
                    (JSIdentifier (JSAnnot (TokenPn 95 8 11) []) "publish"))
                 (JSAnnot (TokenPn 95 8 11) [])
                 (JSLOne (JSIdentifier (JSAnnot (TokenPn 95 8 11) []) ".fork0.msg"))
                 (JSAnnot (TokenPn 95 8 11) []))
              (JSAnnot (TokenPn 95 8 11) [])
              (JSIdentifier (JSAnnot (TokenPn 95 8 11) []) "when"))
           (JSAnnot (TokenPn 95 8 11) [])
           (JSLOne
              (JSIdentifier (JSAnnot (TokenPn 95 8 11) []) ".fork0.when"))
           (JSAnnot (TokenPn 95 8 11) []))
        (JSAnnot (TokenPn 95 8 11) [])
        (JSIdentifier (JSAnnot (TokenPn 95 8 11) []) "pay"))
     (JSAnnot (TokenPn 95 8 11) [])
     (JSLOne
        (JSCallExpression
           (JSMemberDot
              (JSIdentifier (JSAnnot (TokenPn 95 8 11) []) ".fork0.msg")
              (JSAnnot (TokenPn 95 8 11) [])
              (JSIdentifier (JSAnnot (TokenPn 95 8 11) []) "match"))
           (JSAnnot (TokenPn 95 8 11) [])
           (JSLOne
              (JSObjectLiteral
                 (JSAnnot (TokenPn 95 8 11) [])
                 (JSCTLNone
                    (JSLCons
                       JSLNil
                       JSNoAnnot
                       (JSPropertyNameandValue
                          (JSPropertyIdent (JSAnnot (TokenPn 95 8 11) []) "A")
                          (JSAnnot (TokenPn 95 8 11) [])
                          [ JSArrowExpression
                              (JSParenthesizedArrowParameterList
                                 (JSAnnot (TokenPn 109 9 12) [])
                                 JSLNil
                                 (JSAnnot (TokenPn 109 9 12) []))
                              (JSAnnot (TokenPn 109 9 12) [])
                              (JSExpressionStatement
                                 (JSDecimal (JSAnnot (TokenPn 109 9 12) []) "0")
                                 (JSSemi (JSAnnot (TokenPn 109 9 12) [])))
                          ])))
                 (JSAnnot (TokenPn 95 8 11) [])))
           (JSAnnot (TokenPn 95 8 11) [])))
     (JSAnnot (TokenPn 95 8 11) []))
  (JSSemi (JSAnnot (TokenPn 95 8 11) []))
JSExpressionStatement
  (JSCallExpression
     (JSIdentifier (JSAnnot (TokenPn 95 8 11) []) "require")
     (JSAnnot (TokenPn 95 8 11) [])
     (JSLOne
        (JSCallExpression
           (JSMemberDot
              (JSIdentifier (JSAnnot (TokenPn 95 8 11) []) ".fork0.msg")
              (JSAnnot (TokenPn 95 8 11) [])
              (JSIdentifier (JSAnnot (TokenPn 95 8 11) []) "match"))
           (JSAnnot (TokenPn 95 8 11) [])
           (JSLOne
              (JSObjectLiteral
                 (JSAnnot (TokenPn 95 8 11) [])
                 (JSCTLNone
                    (JSLCons
                       JSLNil
                       JSNoAnnot
                       (JSPropertyNameandValue
                          (JSPropertyIdent (JSAnnot (TokenPn 95 8 11) []) "A")
                          (JSAnnot (TokenPn 95 8 11) [])
                          [ JSArrowExpression
                              (JSParenthesizedArrowParameterList
                                 (JSAnnot (TokenPn 95 8 11) [])
                                 JSLNil
                                 (JSAnnot (TokenPn 95 8 11) []))
                              (JSAnnot (TokenPn 95 8 11) [])
                              (JSExpressionStatement
                                 (JSLiteral (JSAnnot (TokenPn 95 8 11) []) "true")
                                 (JSSemi (JSAnnot (TokenPn 95 8 11) [])))
                          ])))
                 (JSAnnot (TokenPn 95 8 11) [])))
           (JSAnnot (TokenPn 95 8 11) [])))
     (JSAnnot (TokenPn 95 8 11) []))
  (JSSemi (JSAnnot (TokenPn 95 8 11) []))
reachc: error: ./Err_Fork_ConsensusBadArrow.rsh:8:11:application: fork consensus block should be arrow with zero or one parameters, but got something else
